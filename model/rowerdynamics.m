% This file was generated by makerowerdynamics.m on 31-May-2017 12:14:36
function [f, df_dq, df_dqd, df_dqdd, df_dFc, stick] = rowerdynamics(q,qd,qdd,Fc,par);
%
% Input:
%      q...................(5x1) generalized coordinates (rad)
%      qd..................(5x1) generalized velocities (rad/s)
%      qdd.................(5x1) generalized accelerations (rad/s^2)
%      Fc..................(scalar) cable force (N)
%      par.................(structure) model parameters:
%            par.TrunkMass,   par.TrunkInertia,   par.TrunkCM,   par.TrunkLen
%            par.ThighMass,   par.ThighInertia,   par.ThighCM,   par.ThighLen
%            par.ShankMass,   par.ShankInertia,   par.ShankCM,   par.ShankLen
%            par.UpparmMass,  par.UpparmInertia,  par.UpparmCM,  par.UpparmLen
%            par.ForearmMass, par.ForearmInertia, par.ForearmCM, par.ForearmLen
%            par.Xankle, par.Yankle
%            par.Xsprocket, par.Ysprocket		% point where the cable comes out of the machine
%            par.a, par.b						% seat path is Y = a*X + b
%            par__Kseat, par__Cseat				% seat stiffness and damping
%
% Output:
%      f...................(6x1) 5 joint torques (Nm) and the wrist-sprocket distance (m)
%      df_dq...............(6x5) Jacobian matrix df/dq
%      df_dqd..............(6x5) Jacobian matrix df/dqdot
%      df_dqdd.............(6x5) Jacobian matrix df/dqdotdot
%      df_dFc.............(6x1) Jacobian matrix df/dFc
%      stick...............(7x2) x,y of ankle,knee,hip,shoulder,elbow,wrist,sprocket
%
    q1   = q(1);  
    q1p  = qd(1); 
    q1pp = qdd(1);
    q2   = q(2);  
    q2p  = qd(2); 
    q2pp = qdd(2);
    q3   = q(3);  
    q3p  = qd(3); 
    q3pp = qdd(3);
    q4   = q(4);  
    q4p  = qd(4); 
    q4pp = qdd(4);
    q5   = q(5);  
    q5p  = qd(5); 
    q5pp = qdd(5);
    f = zeros(6,1); 
    % Unit conversions
    Pi       = 3.141592653589793;
    DEGtoRAD = Pi/180.0;
    RADtoDEG = 180.0/Pi;
    
    % Reserve space and initialize matrices
    z = zeros(570,1);
    
    % Evaluate constants
    z(1) = cos(q1);
    z(2) = sin(q1);
    z(5) = par.ShankLen*q1p;
    z(6) = q1p*z(5);
    z(7) = cos(q2);
    z(8) = sin(q2);
    z(9) = z(1)*z(7) - z(2)*z(8);
    z(10) = -z(1)*z(8) - z(2)*z(7);
    z(11) = z(1)*z(8) + z(2)*z(7);
    z(12) = par.ShankLen*z(8);
    z(13) = par.ShankLen*z(7);
    z(14) = par.ThighCM + z(13);
    z(15) = z(7)*z(6);
    z(16) = z(8)*z(6);
    z(17) = par.ThighCM*(q1p+q2p);
    z(18) = q1p + q2p;
    z(19) = -z(15) - z(17)*z(18);
    z(20) = par.ThighLen + z(13);
    z(21) = par.ThighLen*(q1p+q2p);
    z(22) = -z(15) - z(18)*z(21);
    z(23) = cos(q3);
    z(24) = sin(q3);
    z(25) = z(12)*z(23) + z(20)*z(24);
    z(26) = par.ThighLen*z(24);
    z(27) = par.ThighLen*z(23);
    z(28) = z(20)*z(23) - z(12)*z(24);
    z(29) = z(23)^2 + z(24)^2;
    z(30) = par.TrunkCM*(1+z(29));
    z(31) = z(27) - par.TrunkCM;
    z(32) = z(28) - par.TrunkCM;
    z(33) = z(23)*z(22) + z(24)*z(16);
    z(34) = z(23)*z(16) - z(24)*z(22);
    z(36) = q1p + q2p + q3p;
    z(37) = z(29)*q3p;
    z(38) = z(33) + (par.TrunkCM*q1p+par.TrunkCM*q2p+z(30)*q3p)*(z(36)+z(37));
    z(39) = par.TrunkLen*(1+z(29));
    z(40) = z(27) - par.TrunkLen;
    z(41) = z(28) - par.TrunkLen;
    z(42) = z(33) + (par.TrunkLen*q1p+par.TrunkLen*q2p+z(39)*q3p)*(z(36)+z(37));
    z(43) = cos(q4);
    z(44) = sin(q4);
    z(45) = z(9)*z(23) + z(10)*z(24);
    z(46) = z(10)*z(23) - z(9)*z(24);
    z(47) = z(9)*z(24) + z(11)*z(23);
    z(48) = z(9)*z(23) - z(11)*z(24);
    z(49) = z(43)*z(45) + z(44)*z(46);
    z(50) = z(43)*z(46) - z(44)*z(45);
    z(51) = z(43)*z(47) + z(44)*z(48);
    z(52) = z(43)*z(48) - z(44)*z(47);
    z(53) = z(25)*z(43) + z(41)*z(44);
    z(54) = z(26)*z(43) + z(40)*z(44);
    z(55) = z(39)*z(44);
    z(56) = z(41)*z(43) - z(25)*z(44);
    z(57) = z(40)*z(43) - z(26)*z(44);
    z(58) = z(39)*z(43);
    z(59) = par.UpparmCM + z(56);
    z(60) = par.UpparmCM + z(57);
    z(61) = par.UpparmCM - z(58);
    z(62) = z(43)*z(42) + z(44)*z(34);
    z(63) = z(43)*z(34) - z(44)*z(42);
    z(64) = par.UpparmCM*(q1p+q2p+q3p+q4p);
    z(65) = q1p + q2p + q3p + q4p;
    z(66) = z(62) - z(64)*z(65);
    z(67) = par.UpparmLen + z(56);
    z(68) = par.UpparmLen + z(57);
    z(69) = par.UpparmLen - z(58);
    z(70) = par.UpparmLen*(q1p+q2p+q3p+q4p);
    z(71) = z(62) - z(65)*z(70);
    z(72) = cos(q5);
    z(73) = sin(q5);
    z(74) = z(49)*z(72) + z(50)*z(73);
    z(75) = z(50)*z(72) - z(49)*z(73);
    z(76) = z(51)*z(72) + z(52)*z(73);
    z(77) = z(52)*z(72) - z(51)*z(73);
    z(78) = z(53)*z(72) + z(67)*z(73);
    z(79) = z(54)*z(72) + z(68)*z(73);
    z(80) = z(69)*z(73) - z(55)*z(72);
    z(81) = par.UpparmLen*z(73);
    z(82) = par.UpparmLen*z(72);
    z(83) = z(67)*z(72) - z(53)*z(73);
    z(84) = z(68)*z(72) - z(54)*z(73);
    z(85) = z(55)*z(73) + z(69)*z(72);
    z(86) = par.ForearmCM + z(82);
    z(87) = par.ForearmCM + z(83);
    z(88) = par.ForearmCM + z(84);
    z(89) = par.ForearmCM + z(85);
    z(90) = z(72)*z(71) + z(73)*z(63);
    z(91) = z(72)*z(63) - z(73)*z(71);
    z(92) = par.ForearmCM*(q1p+q2p+q3p+q4p+q5p);
    z(93) = q1p + q2p + q3p + q4p + q5p;
    z(94) = z(90) - z(92)*z(93);
    z(95) = par.ForearmMass*par.g;
    z(96) = par.g*par.ShankMass;
    z(97) = par.g*par.ThighMass;
    z(98) = par.g*par.TrunkMass;
    z(99) = par.g*par.UpparmMass;
    d = -(par.Yankle+par.ShankLen*z(2)+par.ThighLen*z(11)-par.b-par.a*par.Xankle-par.a*par.ShankLen*z(1)-par.a*par.ThighLen*z(9))/(1+par.a^2)^0.5;
    z(100) = par.a*par.ShankLen;
    z(101) = par.a*par.ThighLen;
    z(102) = 1 + par.a^2;
    z(103) = (par.ShankLen*z(1)+par.ThighLen*z(9)+z(100)*z(2)-z(101)*z(10))/z(102)^0.5;
    z(104) = par.ThighLen*(z(9)-par.a*z(10))/z(102)^0.5;
    z(105) = par.a*(par.Kseat*d-par.Cseat*(z(103)*q1p+z(104)*q2p))/z(102)^0.5;
    z(106) = (par.Kseat*d-par.Cseat*(z(103)*q1p+z(104)*q2p))/z(102)^0.5;
    z(107) = par.ForearmLen + z(82);
    z(108) = par.ForearmLen + z(83);
    z(109) = par.ForearmLen + z(84);
    z(110) = par.ForearmLen + z(85);
    z(111) = par.Xsprocket - par.Xankle;
    z(112) = par.Ysprocket - par.Yankle;
    z(113) = z(1)*z(74) + z(2)*z(76);
    z(115) = z(1)*z(75) + z(2)*z(77);
    z(117) = z(9)*z(74) + z(11)*z(76);
    z(119) = z(9)*z(75) + z(11)*z(77);
    z(121) = z(43)*z(72) - z(44)*z(73);
    z(123) = -z(43)*z(73) - z(44)*z(72);
    z(124) = z(1)*z(45) + z(2)*z(47);
    z(125) = z(1)*z(46) + z(2)*z(48);
    z(128) = z(1)*z(49) + z(2)*z(51);
    z(129) = z(1)*z(50) + z(2)*z(52);
    z(130) = z(1)*z(51) - z(2)*z(49);
    z(131) = z(1)*z(52) - z(2)*z(50);
    z(132) = z(7)*z(128) + z(8)*z(130);
    z(133) = z(7)*z(129) + z(8)*z(131);
    L = (par.ForearmLen^2+par.ShankLen^2+par.ThighLen^2+par.TrunkLen^2+par.UpparmLen^2+z(111)^2+z(112)^2+2*par.ForearmLen*par.ShankLen*z(113)+2*par.ForearmLen*par.ThighLen*z(117)+2*par.ForearmLen*par.UpparmLen*z(72)+2*par.ShankLen*par.ThighLen*z(7)+2*par.ShankLen*par.UpparmLen*z(128)+2*par.ThighLen*par.UpparmLen*z(132)+2*par.TrunkLen*z(111)*z(45)+2*par.TrunkLen*z(112)*z(47)-2*par.ForearmLen*par.TrunkLen*z(121)-2*par.ForearmLen*z(111)*z(74)-2*par.ForearmLen*z(112)*z(76)-2*par.ShankLen*par.TrunkLen*z(124)-2*par.ShankLen*z(111)*z(1)-2*par.ShankLen*z(112)*z(2)-2*par.ThighLen*par.TrunkLen*z(23)-2*par.ThighLen*z(111)*z(9)-2*par.ThighLen*z(112)*z(11)-2*par.TrunkLen*par.UpparmLen*z(43)-2*par.UpparmLen*z(111)*z(49)-2*par.UpparmLen*z(112)*z(51))^0.5;
    z(136) = par.ForearmLen^2 + par.ShankLen^2 + par.ThighLen^2 + par.TrunkLen^2 + par.UpparmLen^2 + z(111)^2 + z(112)^2;
    z(137) = par.ForearmLen*par.ShankLen;
    z(138) = par.ForearmLen*par.ThighLen;
    z(139) = par.ForearmLen*par.UpparmLen;
    z(140) = par.ShankLen*par.ThighLen;
    z(141) = par.ShankLen*par.UpparmLen;
    z(142) = par.ThighLen*par.UpparmLen;
    z(143) = par.TrunkLen*z(111);
    z(144) = par.TrunkLen*z(112);
    z(145) = par.ForearmLen*par.TrunkLen;
    z(146) = par.ForearmLen*z(111);
    z(147) = par.ForearmLen*z(112);
    z(148) = par.ShankLen*par.TrunkLen;
    z(149) = par.ShankLen*z(111);
    z(150) = par.ShankLen*z(112);
    z(151) = par.ThighLen*par.TrunkLen;
    z(152) = par.ThighLen*z(111);
    z(153) = par.ThighLen*z(112);
    z(154) = par.TrunkLen*par.UpparmLen;
    z(155) = par.UpparmLen*z(111);
    z(156) = par.UpparmLen*z(112);
    z(157) = z(136) + 2*z(137)*z(113) + 2*z(138)*z(117) + 2*z(139)*z(72) + 2*z(140)*z(7) + 2*z(141)*z(128) + 2*z(142)*z(132) + 2*z(143)*z(45) + 2*z(144)*z(47) - 2*z(145)*z(121) - 2*z(146)*z(74) - 2*z(147)*z(76) - 2*z(148)*z(124) - 2*z(149)*z(1) - 2*z(150)*z(2) - 2*z(151)*z(23) - 2*z(152)*z(9) - 2*z(153)*z(11) - 2*z(154)*z(43) - 2*z(155)*z(49) - 2*z(156)*z(51);
    z(158) = z(157)^0.5;
    z(159) = par.ForearmLen/z(158);
    z(160) = z(111)/z(158);
    z(161) = z(112)/z(158);
    z(162) = par.ShankLen/z(158);
    z(163) = par.ThighLen/z(158);
    z(164) = par.TrunkLen/z(158);
    z(165) = par.UpparmLen/z(158);
    z(166) = Fc*z(159);
    z(167) = Fc*z(160);
    z(168) = Fc*z(161);
    z(169) = Fc*z(162);
    z(170) = Fc*z(163);
    z(171) = Fc*z(164);
    z(172) = Fc*z(165);
    z(173) = par.ShankCM*z(96);
    z(174) = z(73)*z(108)*z(172) + z(74)*z(78)*z(167) + z(75)*z(108)*z(167) + z(76)*z(78)*z(168) + z(77)*z(108)*z(168) + z(78)*z(121)*z(171) + z(108)*z(123)*z(171) + z(9)*z(20)*z(106) + z(11)*z(12)*z(106) - z(173)*z(1) - z(78)*z(166) - z(72)*z(78)*z(172) - z(78)*z(113)*z(169) - z(78)*z(117)*z(170) - z(108)*z(115)*z(169) - z(108)*z(119)*z(170) - z(95)*(z(76)*z(78)+z(77)*z(87)) - z(97)*(z(9)*z(14)+z(11)*z(12)) - z(98)*(z(25)*z(47)+z(32)*z(48)) - z(99)*(z(51)*z(53)+z(52)*z(59)) - z(9)*z(12)*z(105) - z(10)*z(20)*z(105);
    z(175) = par.ThighCM*z(97);
    z(176) = z(73)*z(109)*z(172) + z(74)*z(79)*z(167) + z(75)*z(109)*z(167) + z(76)*z(79)*z(168) + z(77)*z(109)*z(168) + z(79)*z(121)*z(171) + z(109)*z(123)*z(171) + par.ThighLen*(z(9)*z(106)-z(10)*z(105)) - z(175)*z(9) - z(79)*z(166) - z(72)*z(79)*z(172) - z(79)*z(113)*z(169) - z(79)*z(117)*z(170) - z(109)*z(115)*z(169) - z(109)*z(119)*z(170) - z(95)*(z(76)*z(79)+z(77)*z(88)) - z(98)*(z(26)*z(47)+z(31)*z(48)) - z(99)*(z(51)*z(54)+z(52)*z(60));
    z(177) = z(98)*z(30)*z(48) + z(73)*z(110)*z(172) + z(74)*z(80)*z(167) + z(75)*z(110)*z(167) + z(76)*z(80)*z(168) + z(77)*z(110)*z(168) + z(80)*z(121)*z(171) + z(110)*z(123)*z(171) + z(99)*(z(51)*z(55)-z(52)*z(61)) - z(80)*z(166) - z(72)*z(80)*z(172) - z(80)*z(113)*z(169) - z(80)*z(117)*z(170) - z(110)*z(115)*z(169) - z(110)*z(119)*z(170) - z(95)*(z(76)*z(80)+z(77)*z(89));
    z(178) = par.UpparmCM*z(99);
    z(179) = z(73)*z(107)*z(172) + z(74)*z(81)*z(167) + z(75)*z(107)*z(167) + z(76)*z(81)*z(168) + z(77)*z(107)*z(168) + z(81)*z(121)*z(171) + z(107)*z(123)*z(171) - z(178)*z(52) - z(81)*z(166) - z(72)*z(81)*z(172) - z(81)*z(113)*z(169) - z(81)*z(117)*z(170) - z(107)*z(115)*z(169) - z(107)*z(119)*z(170) - z(95)*(z(76)*z(81)+z(77)*z(86));
    z(180) = par.ForearmCM*z(95);
    z(181) = -z(180)*z(77) - par.ForearmLen*(z(115)*z(169)+z(119)*z(170)-z(73)*z(172)-z(75)*z(167)-z(77)*z(168)-z(123)*z(171));
    z(182) = z(2)*z(8) - z(1)*z(7);
    z(183) = z(10)*z(23) + z(24)*z(182);
    z(184) = z(23)*z(182) - z(10)*z(24);
    z(185) = -z(9)*z(23) - z(10)*z(24);
    z(186) = -z(9)*z(24) - z(11)*z(23);
    z(187) = z(45)*z(48) + z(46)*z(183);
    z(188) = z(46)^2 + z(48)^2;
    z(190) = -z(1)*z(8)*q1p - z(1)*z(8)*q2p - z(2)*z(7)*q1p - z(2)*z(7)*q2p;
    z(191) = z(2)*z(8)*q1p + z(2)*z(8)*q2p - z(1)*z(7)*q1p - z(1)*z(7)*q2p;
    z(192) = z(10)*z(23)*q3p + z(23)*z(190) + z(24)*z(191) - z(9)*z(24)*q3p;
    z(193) = z(1)*z(7)*q1p + z(1)*z(7)*q2p - z(2)*z(8)*q1p - z(2)*z(8)*q2p;
    z(194) = z(23)*z(190) - z(9)*z(24)*q3p - z(11)*z(23)*q3p - z(24)*z(193);
    z(195) = z(23)*z(191) - z(9)*z(23)*q3p - z(10)*z(24)*q3p - z(24)*z(190);
    z(196) = z(1)*z(8)*q1p + z(1)*z(8)*q2p + z(2)*z(7)*q1p + z(2)*z(7)*q2p;
    z(197) = z(23)*z(182)*q3p + z(23)*z(191) + z(24)*z(196) - z(10)*z(24)*q3p;
    z(198) = z(45)*q1p*z(194) + z(45)*q2p*z(194) + z(46)*q1p*z(197) + z(46)*q2p*z(197) + z(48)*q1p*z(192) + z(48)*q2p*z(192) + z(183)*q1p*z(195) + z(183)*q2p*z(195) + 2*z(46)*q3p*z(195) + 2*z(48)*q3p*z(194);
    z(199) = par.TrunkInertia*z(187);
    z(200) = par.TrunkInertia*z(188);
    z(201) = par.TrunkInertia*z(198);
    z(202) = par.ForearmInertia + par.ShankInertia + par.ThighInertia + par.UpparmInertia + par.ShankMass*par.ShankCM^2;
    z(203) = z(202) + z(187)*z(199) + par.ForearmMass*(z(78)^2+z(87)^2) + par.ThighMass*(z(12)^2+z(14)^2) + par.TrunkMass*(z(25)^2+z(32)^2) + par.UpparmMass*(z(53)^2+z(59)^2);
    z(204) = par.ForearmInertia + par.ThighInertia + par.UpparmInertia;
    z(205) = par.ThighCM*par.ThighMass;
    z(206) = z(204) + z(205)*z(14) + z(187)*z(199) + par.ForearmMass*(z(78)*z(79)+z(87)*z(88)) + par.TrunkMass*(z(25)*z(26)+z(31)*z(32)) + par.UpparmMass*(z(53)*z(54)+z(59)*z(60));
    z(207) = z(204) + z(187)*z(200) + par.ForearmMass*(z(78)*z(80)+z(87)*z(89)) - par.TrunkMass*z(30)*z(32) - par.UpparmMass*(z(53)*z(55)-z(59)*z(61));
    z(208) = par.ForearmInertia + par.UpparmInertia;
    z(209) = par.UpparmCM*par.UpparmMass;
    z(210) = z(208) + z(209)*z(59) + par.ForearmMass*(z(78)*z(81)+z(86)*z(87));
    z(211) = par.ForearmCM*par.ForearmMass;
    z(212) = par.ForearmInertia + z(211)*z(87);
    z(213) = z(187)*z(201) + par.ForearmMass*(z(78)*z(94)+z(87)*z(91)) + par.ThighMass*(z(12)*z(19)+z(14)*z(16)) + par.TrunkMass*(z(25)*z(38)+z(32)*z(34)) + par.UpparmMass*(z(53)*z(66)+z(59)*z(63));
    z(214) = par.ForearmInertia + par.ThighInertia + par.UpparmInertia + par.ThighMass*par.ThighCM^2;
    z(215) = z(214) + z(187)*z(199) + par.ForearmMass*(z(79)^2+z(88)^2) + par.TrunkMass*(z(26)^2+z(31)^2) + par.UpparmMass*(z(54)^2+z(60)^2);
    z(216) = z(204) + z(187)*z(200) + par.ForearmMass*(z(79)*z(80)+z(88)*z(89)) - par.TrunkMass*z(30)*z(31) - par.UpparmMass*(z(54)*z(55)-z(60)*z(61));
    z(217) = z(208) + z(209)*z(60) + par.ForearmMass*(z(79)*z(81)+z(86)*z(88));
    z(218) = par.ForearmInertia + z(211)*z(88);
    z(219) = z(205)*z(16) + z(187)*z(201) + par.ForearmMass*(z(79)*z(94)+z(88)*z(91)) + par.TrunkMass*(z(26)*z(38)+z(31)*z(34)) + par.UpparmMass*(z(54)*z(66)+z(60)*z(63));
    z(220) = z(204) + z(188)*z(199) + par.ForearmMass*(z(78)*z(80)+z(87)*z(89)) - par.TrunkMass*z(30)*z(32) - par.UpparmMass*(z(53)*z(55)-z(59)*z(61));
    z(221) = z(204) + z(188)*z(199) + par.ForearmMass*(z(79)*z(80)+z(88)*z(89)) - par.TrunkMass*z(30)*z(31) - par.UpparmMass*(z(54)*z(55)-z(60)*z(61));
    z(222) = z(204) + z(188)*z(200) + par.TrunkMass*z(30)^2 + par.ForearmMass*(z(80)^2+z(89)^2) + par.UpparmMass*(z(55)^2+z(61)^2);
    z(223) = z(208) + z(209)*z(61) + par.ForearmMass*(z(80)*z(81)+z(86)*z(89));
    z(224) = par.ForearmInertia + z(211)*z(89);
    z(225) = z(188)*z(201) + par.ForearmMass*(z(80)*z(94)+z(89)*z(91)) - par.TrunkMass*z(30)*z(34) - par.UpparmMass*(z(55)*z(66)-z(61)*z(63));
    z(226) = par.ForearmInertia + par.UpparmInertia + par.UpparmMass*par.UpparmCM^2;
    z(227) = z(226) + par.ForearmMass*(z(81)^2+z(86)^2);
    z(228) = par.ForearmInertia + z(211)*z(86);
    z(229) = z(209)*z(63) + par.ForearmMass*(z(81)*z(94)+z(86)*z(91));
    z(230) = par.ForearmInertia + par.ForearmMass*par.ForearmCM^2;
    z(231) = z(211)*z(91);
    z(232) = z(11)*z(24) + z(23)*z(182);
    z(233) = z(45)*z(46) + z(46)*z(232) + z(48)*z(183) + z(183)*z(184);
    z(234) = z(11)*z(23)*q3p + z(23)*z(196) + z(24)*z(193) - z(24)*z(182)*q3p;
    z(235) = z(23)*z(196) - z(10)*z(23)*q3p - z(24)*z(182)*q3p - z(24)*z(191);
    z(236) = z(45)*q1p*z(195) + z(45)*q2p*z(195) + z(46)*q1p*z(192) + z(46)*q1p*z(234) + z(46)*q2p*z(192) + z(46)*q2p*z(234) + z(48)*q1p*z(197) + z(48)*q2p*z(197) + z(183)*q1p*z(194) + z(183)*q1p*z(235) + z(183)*q2p*z(194) + z(183)*q2p*z(235) + z(184)*q1p*z(197) + z(184)*q2p*z(197) + z(232)*q1p*z(195) + z(232)*q2p*z(195) + 2*z(46)*q3p*z(194) + 2*z(46)*q3p*z(235) + 2*z(48)*q3p*z(195) + 2*z(184)*q3p*z(195);
    z(237) = z(233)*z(201) + par.TrunkInertia*z(187)*z(236);
    z(238) = z(233)*(z(199)+par.TrunkInertia*z(187));
    z(239) = par.TrunkInertia*z(46)*(z(48)+z(184));
    z(240) = z(200)*z(233) + 2*z(187)*z(239);
    z(241) = z(43)*z(183) + z(44)*z(184);
    z(242) = z(43)*z(184) - z(44)*z(183);
    z(243) = z(72)*z(241) + z(73)*z(242);
    z(244) = z(1)*(z(76)+z(243));
    z(245) = z(9)*z(76) + z(9)*z(243) + z(10)*z(74) + z(11)*z(74);
    z(246) = z(1)*(z(51)+z(241));
    z(247) = z(2)*(z(51)+z(241));
    z(248) = z(7)*z(246) - z(8)*z(247);
    z(249) = z(1)*(z(47)+z(183));
    z(250) = 2*z(137)*z(244) + 2*z(138)*z(245) + 2*z(141)*z(246) + 2*z(142)*z(248) + 2*z(143)*z(183) + 2*z(144)*z(45) + 2*z(149)*z(2) - 2*z(146)*z(243) - 2*z(147)*z(74) - 2*z(148)*z(249) - 2*z(150)*z(1) - 2*z(152)*z(10) - 2*z(153)*z(9) - 2*z(155)*z(241) - 2*z(156)*z(49);
    z(251) = par.UpparmLen*z(250)/(z(157)^0.5*z(158)^2);
    z(252) = z(111)*z(250)/(z(157)^0.5*z(158)^2);
    z(253) = z(72)*z(242) - z(73)*z(241);
    z(254) = z(112)*z(250)/(z(157)^0.5*z(158)^2);
    z(255) = par.TrunkLen*z(250)/(z(157)^0.5*z(158)^2);
    z(256) = (par.ThighLen*z(10)+z(100)*z(1)-par.ShankLen*z(2)-z(101)*z(182))/z(102)^0.5;
    z(257) = par.ThighLen*(z(10)-par.a*z(182))/z(102)^0.5;
    z(258) = (par.Kseat*z(103)+par.Cseat*(z(256)*q1p+z(257)*q2p))/z(102)^0.5;
    z(259) = par.ForearmLen*z(250)/(z(157)^0.5*z(158)^2);
    z(260) = par.ShankLen*z(250)/(z(157)^0.5*z(158)^2);
    z(261) = par.ThighLen*z(250)/(z(157)^0.5*z(158)^2);
    z(262) = z(1)*(z(77)+z(253));
    z(263) = z(9)*z(77) + z(9)*z(253) + z(10)*z(75) + z(11)*z(75);
    z(264) = par.a*(par.Kseat*z(103)+par.Cseat*(z(256)*q1p+z(257)*q2p))/z(102)^0.5;
    z(265) = z(173)*z(2) + z(74)*z(78)*z(168) + z(75)*z(108)*z(168) + z(78)*z(167)*z(243) + z(108)*z(167)*z(253) + 0.5*Fc*z(78)*z(259) + 0.5*Fc*z(72)*z(78)*z(251) + 0.5*Fc*z(78)*z(113)*z(260) + 0.5*Fc*z(78)*z(117)*z(261) + 0.5*Fc*z(108)*z(115)*z(260) + 0.5*Fc*z(108)*z(119)*z(261) + z(9)*z(12)*z(106) + z(9)*z(12)*z(264) + z(10)*z(20)*z(106) + z(10)*z(20)*z(264) - z(78)*z(169)*z(244) - z(78)*z(170)*z(245) - z(108)*z(169)*z(262) - z(108)*z(170)*z(263) - 0.5*Fc*z(73)*z(108)*z(251) - 0.5*Fc*z(74)*z(78)*z(252) - 0.5*Fc*z(75)*z(108)*z(252) - 0.5*Fc*z(76)*z(78)*z(254) - 0.5*Fc*z(77)*z(108)*z(254) - 0.5*Fc*z(78)*z(121)*z(255) - 0.5*Fc*z(108)*z(123)*z(255) - z(95)*(z(74)*z(78)+z(75)*z(87)) - z(97)*(z(9)*z(12)+z(10)*z(14)) - z(98)*(z(25)*z(45)+z(32)*z(46)) - z(99)*(z(49)*z(53)+z(50)*z(59)) - z(9)*z(20)*z(258) - z(10)*z(12)*z(105) - z(11)*z(12)*z(258) - z(20)*z(182)*z(105);
    z(266) = par.ShankLen*(z(7)*z(23)-z(8)*z(24));
    z(267) = par.ShankLen*(z(7)*z(24)+z(8)*z(23));
    z(268) = z(43)*z(266) - z(44)*z(267);
    z(269) = -z(43)*z(267) - z(44)*z(266);
    z(270) = z(72)*z(268) + z(73)*z(269);
    z(271) = (z(7)*z(24)+z(8)*z(23))*z(6);
    z(272) = (z(7)*z(23)-z(8)*z(24))*z(6);
    z(273) = z(43)*z(271) + z(44)*z(272);
    z(274) = z(43)*z(272) - z(44)*z(271);
    z(275) = z(72)*z(273) + z(73)*z(274);
    z(276) = z(72)*z(269) - z(73)*z(268);
    z(277) = z(72)*z(274) - z(73)*z(273);
    z(278) = z(233)*z(201) + par.TrunkInertia*z(187)*z(236) + par.ForearmMass*(z(78)*z(275)+z(87)*z(277)+z(270)*z(94)+z(276)*z(91)) + par.UpparmMass*(z(53)*z(273)+z(59)*z(274)+z(268)*z(66)+z(269)*z(63)) + par.TrunkMass*(z(25)*z(271)+z(32)*z(272)+z(266)*z(38)-z(267)*z(34)) - par.ThighMass*(par.ShankLen*z(8)*z(16)-par.ShankLen*z(7)*z(19)-z(7)*z(14)*z(6)-z(8)*z(12)*z(6));
    z(279) = par.ShankLen*par.ThighMass;
    z(280) = z(199)*z(233) + par.TrunkInertia*z(187)*z(233) + 2*par.ForearmMass*(z(78)*z(270)+z(87)*z(276)) + 2*par.UpparmMass*(z(53)*z(268)+z(59)*z(269)) + 2*par.TrunkMass*(z(25)*z(266)-z(32)*z(267)) + 2*z(279)*(z(7)*z(12)-z(8)*z(14));
    z(281) = par.ShankLen*z(205);
    z(282) = z(199)*z(233) + par.TrunkInertia*z(187)*z(233) + par.ForearmMass*(z(79)*z(270)+z(88)*z(276)) + par.UpparmMass*(z(54)*z(268)+z(60)*z(269)) + par.TrunkMass*(z(26)*z(266)-z(31)*z(267)) - z(281)*z(8);
    z(283) = z(200)*z(233) + 2*z(187)*z(239) + par.TrunkMass*z(30)*z(267) + par.ForearmMass*(z(80)*z(270)+z(89)*z(276)) - par.UpparmMass*(z(55)*z(268)-z(61)*z(269));
    z(284) = z(209)*z(269) + par.ForearmMass*(z(81)*z(270)+z(86)*z(276));
    z(285) = z(1)*z(243) + z(2)*z(74);
    z(286) = z(1)*z(241) + z(2)*z(49);
    z(287) = z(1)*z(49) - z(2)*z(241);
    z(288) = z(7)*z(130) + z(7)*z(286) + z(8)*z(287) - z(8)*z(128);
    z(289) = z(1)*z(183) + z(2)*z(45);
    z(290) = 2*z(137)*z(285) + 2*z(138)*z(245) + 2*z(141)*z(286) + 2*z(142)*z(288) + 2*z(143)*z(183) + 2*z(144)*z(45) - 2*z(140)*z(8) - 2*z(146)*z(243) - 2*z(147)*z(74) - 2*z(148)*z(289) - 2*z(152)*z(10) - 2*z(153)*z(9) - 2*z(155)*z(241) - 2*z(156)*z(49);
    z(291) = par.UpparmLen*z(290)/(z(157)^0.5*z(158)^2);
    z(292) = z(111)*z(290)/(z(157)^0.5*z(158)^2);
    z(293) = z(112)*z(290)/(z(157)^0.5*z(158)^2);
    z(294) = par.TrunkLen*z(290)/(z(157)^0.5*z(158)^2);
    z(295) = (par.ThighLen*z(10)-z(101)*z(182))/z(102)^0.5;
    z(296) = (par.Kseat*z(104)+par.Cseat*(z(257)*q2p+z(295)*q1p))/z(102)^0.5;
    z(297) = par.ForearmLen*z(290)/(z(157)^0.5*z(158)^2);
    z(298) = par.ShankLen*z(290)/(z(157)^0.5*z(158)^2);
    z(299) = par.ThighLen*z(290)/(z(157)^0.5*z(158)^2);
    z(300) = z(1)*z(253) + z(2)*z(75);
    z(301) = par.a*(par.Kseat*z(104)+par.Cseat*(z(257)*q2p+z(295)*q1p))/z(102)^0.5;
    z(302) = z(73)*z(172)*z(276) + z(74)*z(78)*z(168) + z(74)*z(167)*z(270) + z(75)*z(108)*z(168) + z(75)*z(167)*z(276) + z(76)*z(168)*z(270) + z(77)*z(168)*z(276) + z(78)*z(167)*z(243) + z(108)*z(167)*z(253) + z(121)*z(171)*z(270) + z(123)*z(171)*z(276) + 0.5*Fc*z(78)*z(297) + 0.5*Fc*z(72)*z(78)*z(291) + 0.5*Fc*z(78)*z(113)*z(298) + 0.5*Fc*z(78)*z(117)*z(299) + 0.5*Fc*z(108)*z(115)*z(298) + 0.5*Fc*z(108)*z(119)*z(299) + z(9)*z(12)*z(106) + z(9)*z(12)*z(301) + z(10)*z(20)*z(106) + z(10)*z(20)*z(301) + par.ShankLen*z(7)*z(11)*z(106) + par.ShankLen*z(8)*z(10)*z(105) - z(166)*z(270) - z(72)*z(172)*z(270) - z(78)*z(169)*z(285) - z(78)*z(170)*z(245) - z(108)*z(169)*z(300) - z(108)*z(170)*z(263) - z(113)*z(169)*z(270) - z(115)*z(169)*z(276) - z(117)*z(170)*z(270) - z(119)*z(170)*z(276) - 0.5*Fc*z(73)*z(108)*z(291) - 0.5*Fc*z(74)*z(78)*z(292) - 0.5*Fc*z(75)*z(108)*z(292) - 0.5*Fc*z(76)*z(78)*z(293) - 0.5*Fc*z(77)*z(108)*z(293) - 0.5*Fc*z(78)*z(121)*z(294) - 0.5*Fc*z(108)*z(123)*z(294) - z(95)*(z(74)*z(78)+z(75)*z(87)+z(76)*z(270)+z(77)*z(276)) - z(99)*(z(49)*z(53)+z(50)*z(59)+z(51)*z(268)+z(52)*z(269)) - z(98)*(z(25)*z(45)+z(32)*z(46)+z(47)*z(266)-z(48)*z(267)) - z(97)*(z(9)*z(12)+z(10)*z(14)+par.ShankLen*z(7)*z(11)-par.ShankLen*z(8)*z(9)) - z(9)*z(20)*z(296) - z(10)*z(12)*z(105) - z(11)*z(12)*z(296) - z(20)*z(182)*z(105) - par.ShankLen*z(7)*z(9)*z(105) - par.ShankLen*z(8)*z(9)*z(106);
    z(303) = z(45)*z(186) + z(46)*z(48) + z(46)*z(184) + z(183)*z(185);
    z(304) = z(11)*z(24)*q3p - z(9)*z(23)*q3p - z(23)*z(193) - z(24)*z(190);
    z(305) = z(9)*z(24)*q3p - z(10)*z(23)*q3p - z(23)*z(190) - z(24)*z(191);
    z(306) = z(45)*q1p*z(304) + z(45)*q2p*z(304) + z(46)*q1p*z(194) + z(46)*q1p*z(235) + z(46)*q2p*z(194) + z(46)*q2p*z(235) + z(48)*q1p*z(195) + z(48)*q2p*z(195) + z(183)*q1p*z(305) + z(183)*q2p*z(305) + z(184)*q1p*z(195) + z(184)*q2p*z(195) + z(185)*q1p*z(197) + z(185)*q2p*z(197) + z(186)*q1p*z(192) + z(186)*q2p*z(192) + 2*z(46)*q3p*z(305) + 2*z(48)*q3p*z(304) + 2*z(185)*q3p*z(195) + 2*z(186)*q3p*z(194);
    z(307) = -z(12)*z(23) - z(20)*z(24);
    z(308) = z(28)*z(43) + z(44)*z(307);
    z(309) = z(43)*z(307) - z(28)*z(44);
    z(310) = z(72)*z(308) + z(73)*z(309);
    z(311) = -z(23)*z(22) - z(24)*z(16);
    z(312) = z(43)*z(34) + z(44)*z(311);
    z(313) = z(43)*z(311) - z(44)*z(34);
    z(314) = z(72)*z(312) + z(73)*z(313);
    z(315) = z(72)*z(309) - z(73)*z(308);
    z(316) = z(72)*z(313) - z(73)*z(312);
    z(317) = z(303)*z(201) + par.TrunkInertia*z(187)*z(306) + par.ForearmMass*(z(78)*z(314)+z(87)*z(316)+z(310)*z(94)+z(315)*z(91)) + par.TrunkMass*(z(25)*z(34)+z(28)*z(38)+z(32)*z(311)+z(307)*z(34)) + par.UpparmMass*(z(53)*z(312)+z(59)*z(313)+z(308)*z(66)+z(309)*z(63));
    z(318) = z(199)*z(303) + par.TrunkInertia*z(187)*z(303) + 2*par.ForearmMass*(z(78)*z(310)+z(87)*z(315)) + 2*par.TrunkMass*(z(25)*z(28)+z(32)*z(307)) + 2*par.UpparmMass*(z(53)*z(308)+z(59)*z(309));
    z(319) = par.ThighLen*(z(23)*z(43)-z(24)*z(44));
    z(320) = par.ThighLen*(z(23)*z(44)+z(24)*z(43));
    z(321) = z(72)*z(319) - z(73)*z(320);
    z(322) = -z(72)*z(320) - z(73)*z(319);
    z(323) = z(199)*z(303) + par.TrunkInertia*z(187)*z(303) + par.ForearmMass*(z(78)*z(321)+z(79)*z(310)+z(87)*z(322)+z(88)*z(315)) + par.TrunkMass*(z(26)*z(28)+z(31)*z(307)+par.ThighLen*z(23)*z(25)-par.ThighLen*z(24)*z(32)) - par.UpparmMass*(z(59)*z(320)-z(53)*z(319)-z(54)*z(308)-z(60)*z(309));
    z(324) = 2*z(46)*z(185) + 2*z(48)*z(186);
    z(325) = z(200)*z(303) + par.TrunkInertia*z(187)*z(324) + par.ForearmMass*(z(80)*z(310)+z(89)*z(315)) - par.TrunkMass*z(30)*z(307) - par.UpparmMass*(z(55)*z(308)-z(61)*z(309));
    z(326) = z(209)*z(309) + par.ForearmMass*(z(81)*z(310)+z(86)*z(315));
    z(327) = z(43)*z(46) + z(44)*z(185);
    z(328) = z(43)*z(185) - z(44)*z(46);
    z(329) = z(72)*z(327) + z(73)*z(328);
    z(330) = z(43)*z(48) + z(44)*z(186);
    z(331) = z(43)*z(186) - z(44)*z(48);
    z(332) = z(72)*z(330) + z(73)*z(331);
    z(333) = z(1)*z(329) + z(2)*z(332);
    z(334) = z(9)*z(329) + z(11)*z(332);
    z(335) = z(1)*z(327) + z(2)*z(330);
    z(336) = z(1)*z(330) - z(2)*z(327);
    z(337) = z(7)*z(335) + z(8)*z(336);
    z(338) = 2*z(137)*z(333) + 2*z(138)*z(334) + 2*z(141)*z(335) + 2*z(142)*z(337) + 2*z(143)*z(46) + 2*z(144)*z(48) + 2*z(151)*z(24) - 2*z(146)*z(329) - 2*z(147)*z(332) - 2*z(148)*z(125) - 2*z(155)*z(327) - 2*z(156)*z(330);
    z(339) = par.UpparmLen*z(338)/(z(157)^0.5*z(158)^2);
    z(340) = z(111)*z(338)/(z(157)^0.5*z(158)^2);
    z(341) = z(72)*z(328) - z(73)*z(327);
    z(342) = z(112)*z(338)/(z(157)^0.5*z(158)^2);
    z(343) = z(72)*z(331) - z(73)*z(330);
    z(344) = par.TrunkLen*z(338)/(z(157)^0.5*z(158)^2);
    z(345) = par.ForearmLen*z(338)/(z(157)^0.5*z(158)^2);
    z(346) = par.ShankLen*z(338)/(z(157)^0.5*z(158)^2);
    z(347) = par.ThighLen*z(338)/(z(157)^0.5*z(158)^2);
    z(348) = z(1)*z(341) + z(2)*z(343);
    z(349) = z(9)*z(341) + z(11)*z(343);
    z(350) = z(73)*z(172)*z(315) + z(74)*z(167)*z(310) + z(75)*z(167)*z(315) + z(76)*z(168)*z(310) + z(77)*z(168)*z(315) + z(78)*z(167)*z(329) + z(78)*z(168)*z(332) + z(108)*z(167)*z(341) + z(108)*z(168)*z(343) + z(121)*z(171)*z(310) + z(123)*z(171)*z(315) + 0.5*Fc*z(78)*z(345) + 0.5*Fc*z(72)*z(78)*z(339) + 0.5*Fc*z(78)*z(113)*z(346) + 0.5*Fc*z(78)*z(117)*z(347) + 0.5*Fc*z(108)*z(115)*z(346) + 0.5*Fc*z(108)*z(119)*z(347) - z(166)*z(310) - z(72)*z(172)*z(310) - z(78)*z(169)*z(333) - z(78)*z(170)*z(334) - z(108)*z(169)*z(348) - z(108)*z(170)*z(349) - z(113)*z(169)*z(310) - z(115)*z(169)*z(315) - z(117)*z(170)*z(310) - z(119)*z(170)*z(315) - 0.5*Fc*z(73)*z(108)*z(339) - 0.5*Fc*z(74)*z(78)*z(340) - 0.5*Fc*z(75)*z(108)*z(340) - 0.5*Fc*z(76)*z(78)*z(342) - 0.5*Fc*z(77)*z(108)*z(342) - 0.5*Fc*z(78)*z(121)*z(344) - 0.5*Fc*z(108)*z(123)*z(344) - z(95)*(z(76)*z(310)+z(77)*z(315)+z(78)*z(332)+z(87)*z(343)) - z(98)*(z(25)*z(48)+z(28)*z(47)+z(32)*z(186)+z(48)*z(307)) - z(99)*(z(51)*z(308)+z(52)*z(309)+z(53)*z(330)+z(59)*z(331));
    z(351) = -z(25)*z(43) - z(41)*z(44);
    z(352) = z(56)*z(72) + z(73)*z(351);
    z(353) = -z(43)*z(42) - z(44)*z(34);
    z(354) = z(72)*z(63) + z(73)*z(353);
    z(355) = z(72)*z(351) - z(56)*z(73);
    z(356) = z(72)*z(353) - z(73)*z(63);
    z(357) = par.ForearmMass*(z(78)*z(354)+z(87)*z(356)+z(352)*z(94)+z(355)*z(91)) + par.UpparmMass*(z(53)*z(63)+z(56)*z(66)+z(59)*z(353)+z(351)*z(63));
    z(358) = 2*par.ForearmMass*(z(78)*z(352)+z(87)*z(355)) + 2*par.UpparmMass*(z(53)*z(56)+z(59)*z(351));
    z(359) = -z(26)*z(43) - z(40)*z(44);
    z(360) = z(57)*z(72) + z(73)*z(359);
    z(361) = z(72)*z(359) - z(57)*z(73);
    z(362) = par.ForearmMass*(z(78)*z(360)+z(79)*z(352)+z(87)*z(361)+z(88)*z(355)) + par.UpparmMass*(z(53)*z(57)+z(54)*z(56)+z(59)*z(359)+z(60)*z(351));
    z(363) = z(39)*(z(43)*z(72)-z(44)*z(73));
    z(364) = z(39)*(z(43)*z(73)+z(44)*z(72));
    z(365) = -par.ForearmMass*(z(78)*z(363)-z(80)*z(352)-z(87)*z(364)-z(89)*z(355)) - par.UpparmMass*(z(55)*z(56)+z(39)*z(43)*z(53)-z(61)*z(351)-z(39)*z(44)*z(59));
    z(366) = z(209)*z(351) + par.ForearmMass*(z(81)*z(352)+z(86)*z(355));
    z(367) = -z(43)*z(45) - z(44)*z(46);
    z(368) = z(50)*z(72) + z(73)*z(367);
    z(369) = -z(43)*z(47) - z(44)*z(48);
    z(370) = z(52)*z(72) + z(73)*z(369);
    z(371) = z(1)*z(368) + z(2)*z(370);
    z(372) = z(9)*z(368) + z(11)*z(370);
    z(373) = 2*z(137)*z(371) + 2*z(138)*z(372) + 2*z(141)*z(129) + 2*z(142)*z(133) + 2*z(154)*z(44) - 2*z(145)*z(123) - 2*z(146)*z(368) - 2*z(147)*z(370) - 2*z(155)*z(50) - 2*z(156)*z(52);
    z(374) = par.UpparmLen*z(373)/(z(157)^0.5*z(158)^2);
    z(375) = z(111)*z(373)/(z(157)^0.5*z(158)^2);
    z(376) = z(72)*z(367) - z(50)*z(73);
    z(377) = z(112)*z(373)/(z(157)^0.5*z(158)^2);
    z(378) = z(72)*z(369) - z(52)*z(73);
    z(379) = par.TrunkLen*z(373)/(z(157)^0.5*z(158)^2);
    z(380) = z(44)*z(73) - z(43)*z(72);
    z(381) = par.ForearmLen*z(373)/(z(157)^0.5*z(158)^2);
    z(382) = par.ShankLen*z(373)/(z(157)^0.5*z(158)^2);
    z(383) = par.ThighLen*z(373)/(z(157)^0.5*z(158)^2);
    z(384) = z(1)*z(376) + z(2)*z(378);
    z(385) = z(9)*z(376) + z(11)*z(378);
    z(386) = z(73)*z(172)*z(355) + z(74)*z(167)*z(352) + z(75)*z(167)*z(355) + z(76)*z(168)*z(352) + z(77)*z(168)*z(355) + z(78)*z(123)*z(171) + z(78)*z(167)*z(368) + z(78)*z(168)*z(370) + z(108)*z(167)*z(376) + z(108)*z(168)*z(378) + z(108)*z(171)*z(380) + z(121)*z(171)*z(352) + z(123)*z(171)*z(355) + 0.5*Fc*z(78)*z(381) + 0.5*Fc*z(72)*z(78)*z(374) + 0.5*Fc*z(78)*z(113)*z(382) + 0.5*Fc*z(78)*z(117)*z(383) + 0.5*Fc*z(108)*z(115)*z(382) + 0.5*Fc*z(108)*z(119)*z(383) - z(166)*z(352) - z(72)*z(172)*z(352) - z(78)*z(169)*z(371) - z(78)*z(170)*z(372) - z(108)*z(169)*z(384) - z(108)*z(170)*z(385) - z(113)*z(169)*z(352) - z(115)*z(169)*z(355) - z(117)*z(170)*z(352) - z(119)*z(170)*z(355) - 0.5*Fc*z(73)*z(108)*z(374) - 0.5*Fc*z(74)*z(78)*z(375) - 0.5*Fc*z(75)*z(108)*z(375) - 0.5*Fc*z(76)*z(78)*z(377) - 0.5*Fc*z(77)*z(108)*z(377) - 0.5*Fc*z(78)*z(121)*z(379) - 0.5*Fc*z(108)*z(123)*z(379) - z(95)*(z(76)*z(352)+z(77)*z(355)+z(78)*z(370)+z(87)*z(378)) - z(99)*(z(51)*z(56)+z(52)*z(53)+z(52)*z(351)+z(59)*z(369));
    z(387) = -z(53)*z(72) - z(67)*z(73);
    z(388) = -z(72)*z(71) - z(73)*z(63);
    z(389) = par.ForearmMass*(z(78)*z(91)+z(83)*z(94)+z(87)*z(388)+z(387)*z(91));
    z(390) = par.ForearmMass*(z(78)*z(83)+z(87)*z(387));
    z(391) = -z(54)*z(72) - z(68)*z(73);
    z(392) = par.ForearmMass*(z(78)*z(84)+z(79)*z(83)+z(87)*z(391)+z(88)*z(387));
    z(393) = z(55)*z(72) - z(69)*z(73);
    z(394) = par.ForearmMass*(z(78)*z(85)+z(80)*z(83)+z(87)*z(393)+z(89)*z(387));
    z(395) = par.ForearmMass*(z(81)*z(83)+z(86)*z(387)+par.UpparmLen*z(72)*z(78)-par.UpparmLen*z(73)*z(87));
    z(396) = 2*z(137)*z(115) + 2*z(138)*z(119) - 2*z(139)*z(73) - 2*z(145)*z(123) - 2*z(146)*z(75) - 2*z(147)*z(77);
    z(397) = par.UpparmLen*z(396)/(z(157)^0.5*z(158)^2);
    z(398) = z(111)*z(396)/(z(157)^0.5*z(158)^2);
    z(399) = -z(49)*z(72) - z(50)*z(73);
    z(400) = z(112)*z(396)/(z(157)^0.5*z(158)^2);
    z(401) = -z(51)*z(72) - z(52)*z(73);
    z(402) = par.TrunkLen*z(396)/(z(157)^0.5*z(158)^2);
    z(403) = par.ForearmLen*z(396)/(z(157)^0.5*z(158)^2);
    z(404) = par.ShankLen*z(396)/(z(157)^0.5*z(158)^2);
    z(405) = par.ThighLen*z(396)/(z(157)^0.5*z(158)^2);
    z(406) = z(1)*z(399) + z(2)*z(401);
    z(407) = z(9)*z(399) + z(11)*z(401);
    z(408) = z(72)*z(108)*z(172) + z(73)*z(78)*z(172) + z(73)*z(172)*z(387) + z(74)*z(83)*z(167) + z(75)*z(78)*z(167) + z(75)*z(167)*z(387) + z(76)*z(83)*z(168) + z(77)*z(78)*z(168) + z(77)*z(168)*z(387) + z(78)*z(123)*z(171) + z(83)*z(121)*z(171) + z(108)*z(167)*z(399) + z(108)*z(168)*z(401) + z(108)*z(171)*z(380) + z(123)*z(171)*z(387) + 0.5*Fc*z(78)*z(403) + 0.5*Fc*z(72)*z(78)*z(397) + 0.5*Fc*z(78)*z(113)*z(404) + 0.5*Fc*z(78)*z(117)*z(405) + 0.5*Fc*z(108)*z(115)*z(404) + 0.5*Fc*z(108)*z(119)*z(405) - z(83)*z(166) - z(72)*z(83)*z(172) - z(78)*z(115)*z(169) - z(78)*z(119)*z(170) - z(83)*z(113)*z(169) - z(83)*z(117)*z(170) - z(108)*z(169)*z(406) - z(108)*z(170)*z(407) - z(115)*z(169)*z(387) - z(119)*z(170)*z(387) - 0.5*Fc*z(73)*z(108)*z(397) - 0.5*Fc*z(74)*z(78)*z(398) - 0.5*Fc*z(75)*z(108)*z(398) - 0.5*Fc*z(76)*z(78)*z(400) - 0.5*Fc*z(77)*z(108)*z(400) - 0.5*Fc*z(78)*z(121)*z(402) - 0.5*Fc*z(108)*z(123)*z(402) - z(95)*(z(76)*z(83)+z(77)*z(78)+z(77)*z(387)+z(87)*z(401));
    z(409) = z(74)*z(79)*z(168) + z(75)*z(109)*z(168) + z(79)*z(167)*z(243) + z(109)*z(167)*z(253) + 0.5*Fc*z(79)*z(259) + 0.5*Fc*z(72)*z(79)*z(251) + 0.5*Fc*z(79)*z(113)*z(260) + 0.5*Fc*z(79)*z(117)*z(261) + 0.5*Fc*z(109)*z(115)*z(260) + 0.5*Fc*z(109)*z(119)*z(261) + par.ThighLen*(z(10)*z(106)+z(10)*z(264)-z(9)*z(258)-z(182)*z(105)) - z(175)*z(10) - z(79)*z(169)*z(244) - z(79)*z(170)*z(245) - z(109)*z(169)*z(262) - z(109)*z(170)*z(263) - 0.5*Fc*z(73)*z(109)*z(251) - 0.5*Fc*z(74)*z(79)*z(252) - 0.5*Fc*z(75)*z(109)*z(252) - 0.5*Fc*z(76)*z(79)*z(254) - 0.5*Fc*z(77)*z(109)*z(254) - 0.5*Fc*z(79)*z(121)*z(255) - 0.5*Fc*z(109)*z(123)*z(255) - z(95)*(z(74)*z(79)+z(75)*z(88)) - z(98)*(z(26)*z(45)+z(31)*z(46)) - z(99)*(z(49)*z(54)+z(50)*z(60));
    z(410) = z(233)*z(201) + par.TrunkInertia*z(187)*z(236) + z(205)*z(7)*z(6) + par.ForearmMass*(z(79)*z(275)+z(88)*z(277)) + par.TrunkMass*(z(26)*z(271)+z(31)*z(272)) + par.UpparmMass*(z(54)*z(273)+z(60)*z(274));
    z(411) = z(74)*z(79)*z(168) + z(75)*z(109)*z(168) + z(79)*z(167)*z(243) + z(109)*z(167)*z(253) + 0.5*Fc*z(79)*z(297) + 0.5*Fc*z(72)*z(79)*z(291) + 0.5*Fc*z(79)*z(113)*z(298) + 0.5*Fc*z(79)*z(117)*z(299) + 0.5*Fc*z(109)*z(115)*z(298) + 0.5*Fc*z(109)*z(119)*z(299) + par.ThighLen*(z(10)*z(106)+z(10)*z(301)-z(9)*z(296)-z(182)*z(105)) - z(175)*z(10) - z(79)*z(169)*z(285) - z(79)*z(170)*z(245) - z(109)*z(169)*z(300) - z(109)*z(170)*z(263) - 0.5*Fc*z(73)*z(109)*z(291) - 0.5*Fc*z(74)*z(79)*z(292) - 0.5*Fc*z(75)*z(109)*z(292) - 0.5*Fc*z(76)*z(79)*z(293) - 0.5*Fc*z(77)*z(109)*z(293) - 0.5*Fc*z(79)*z(121)*z(294) - 0.5*Fc*z(109)*z(123)*z(294) - z(95)*(z(74)*z(79)+z(75)*z(88)) - z(98)*(z(26)*z(45)+z(31)*z(46)) - z(99)*(z(49)*z(54)+z(50)*z(60));
    z(412) = z(303)*z(201) + par.TrunkInertia*z(187)*z(306) + par.ForearmMass*(z(79)*z(314)+z(88)*z(316)+z(321)*z(94)+z(322)*z(91)) + par.UpparmMass*(z(54)*z(312)+z(60)*z(313)+z(319)*z(66)-z(320)*z(63)) + par.TrunkMass*(z(26)*z(34)+z(31)*z(311)+par.ThighLen*z(23)*z(38)-par.ThighLen*z(24)*z(34));
    z(413) = par.ThighLen*par.TrunkMass;
    z(414) = z(199)*z(303) + par.TrunkInertia*z(187)*z(303) + 2*par.ForearmMass*(z(79)*z(321)+z(88)*z(322)) + 2*par.UpparmMass*(z(54)*z(319)-z(60)*z(320)) + 2*z(413)*(z(23)*z(26)-z(24)*z(31));
    z(415) = z(200)*z(303) + par.TrunkInertia*z(187)*z(324) + z(413)*z(24)*z(30) + par.ForearmMass*(z(80)*z(321)+z(89)*z(322)) - par.UpparmMass*(z(55)*z(319)+z(61)*z(320));
    z(416) = par.ForearmMass*(z(81)*z(321)+z(86)*z(322)) - z(209)*z(320);
    z(417) = z(73)*z(172)*z(322) + z(74)*z(167)*z(321) + z(75)*z(167)*z(322) + z(76)*z(168)*z(321) + z(77)*z(168)*z(322) + z(79)*z(167)*z(329) + z(79)*z(168)*z(332) + z(109)*z(167)*z(341) + z(109)*z(168)*z(343) + z(121)*z(171)*z(321) + z(123)*z(171)*z(322) + 0.5*Fc*z(79)*z(345) + 0.5*Fc*z(72)*z(79)*z(339) + 0.5*Fc*z(79)*z(113)*z(346) + 0.5*Fc*z(79)*z(117)*z(347) + 0.5*Fc*z(109)*z(115)*z(346) + 0.5*Fc*z(109)*z(119)*z(347) + z(99)*(z(52)*z(320)-z(51)*z(319)-z(54)*z(330)-z(60)*z(331)) - z(166)*z(321) - z(72)*z(172)*z(321) - z(79)*z(169)*z(333) - z(79)*z(170)*z(334) - z(109)*z(169)*z(348) - z(109)*z(170)*z(349) - z(113)*z(169)*z(321) - z(115)*z(169)*z(322) - z(117)*z(170)*z(321) - z(119)*z(170)*z(322) - 0.5*Fc*z(73)*z(109)*z(339) - 0.5*Fc*z(74)*z(79)*z(340) - 0.5*Fc*z(75)*z(109)*z(340) - 0.5*Fc*z(76)*z(79)*z(342) - 0.5*Fc*z(77)*z(109)*z(342) - 0.5*Fc*z(79)*z(121)*z(344) - 0.5*Fc*z(109)*z(123)*z(344) - z(95)*(z(76)*z(321)+z(77)*z(322)+z(79)*z(332)+z(88)*z(343)) - z(98)*(z(26)*z(48)+z(31)*z(186)+par.ThighLen*z(23)*z(47)-par.ThighLen*z(24)*z(48));
    z(418) = par.ForearmMass*(z(79)*z(354)+z(88)*z(356)+z(360)*z(94)+z(361)*z(91)) + par.UpparmMass*(z(54)*z(63)+z(57)*z(66)+z(60)*z(353)+z(359)*z(63));
    z(419) = 2*par.ForearmMass*(z(79)*z(360)+z(88)*z(361)) + 2*par.UpparmMass*(z(54)*z(57)+z(60)*z(359));
    z(420) = -par.ForearmMass*(z(79)*z(363)-z(80)*z(360)-z(88)*z(364)-z(89)*z(361)) - par.UpparmMass*(z(55)*z(57)+z(39)*z(43)*z(54)-z(61)*z(359)-z(39)*z(44)*z(60));
    z(421) = z(209)*z(359) + par.ForearmMass*(z(81)*z(360)+z(86)*z(361));
    z(422) = z(73)*z(172)*z(361) + z(74)*z(167)*z(360) + z(75)*z(167)*z(361) + z(76)*z(168)*z(360) + z(77)*z(168)*z(361) + z(79)*z(123)*z(171) + z(79)*z(167)*z(368) + z(79)*z(168)*z(370) + z(109)*z(167)*z(376) + z(109)*z(168)*z(378) + z(109)*z(171)*z(380) + z(121)*z(171)*z(360) + z(123)*z(171)*z(361) + 0.5*Fc*z(79)*z(381) + 0.5*Fc*z(72)*z(79)*z(374) + 0.5*Fc*z(79)*z(113)*z(382) + 0.5*Fc*z(79)*z(117)*z(383) + 0.5*Fc*z(109)*z(115)*z(382) + 0.5*Fc*z(109)*z(119)*z(383) - z(166)*z(360) - z(72)*z(172)*z(360) - z(79)*z(169)*z(371) - z(79)*z(170)*z(372) - z(109)*z(169)*z(384) - z(109)*z(170)*z(385) - z(113)*z(169)*z(360) - z(115)*z(169)*z(361) - z(117)*z(170)*z(360) - z(119)*z(170)*z(361) - 0.5*Fc*z(73)*z(109)*z(374) - 0.5*Fc*z(74)*z(79)*z(375) - 0.5*Fc*z(75)*z(109)*z(375) - 0.5*Fc*z(76)*z(79)*z(377) - 0.5*Fc*z(77)*z(109)*z(377) - 0.5*Fc*z(79)*z(121)*z(379) - 0.5*Fc*z(109)*z(123)*z(379) - z(95)*(z(76)*z(360)+z(77)*z(361)+z(79)*z(370)+z(88)*z(378)) - z(99)*(z(51)*z(57)+z(52)*z(54)+z(52)*z(359)+z(60)*z(369));
    z(423) = par.ForearmMass*(z(79)*z(91)+z(84)*z(94)+z(88)*z(388)+z(391)*z(91));
    z(424) = par.ForearmMass*(z(79)*z(84)+z(88)*z(391));
    z(425) = par.ForearmMass*(z(79)*z(85)+z(80)*z(84)+z(88)*z(393)+z(89)*z(391));
    z(426) = par.ForearmMass*(z(81)*z(84)+z(86)*z(391)+par.UpparmLen*z(72)*z(79)-par.UpparmLen*z(73)*z(88));
    z(427) = z(72)*z(109)*z(172) + z(73)*z(79)*z(172) + z(73)*z(172)*z(391) + z(74)*z(84)*z(167) + z(75)*z(79)*z(167) + z(75)*z(167)*z(391) + z(76)*z(84)*z(168) + z(77)*z(79)*z(168) + z(77)*z(168)*z(391) + z(79)*z(123)*z(171) + z(84)*z(121)*z(171) + z(109)*z(167)*z(399) + z(109)*z(168)*z(401) + z(109)*z(171)*z(380) + z(123)*z(171)*z(391) + 0.5*Fc*z(79)*z(403) + 0.5*Fc*z(72)*z(79)*z(397) + 0.5*Fc*z(79)*z(113)*z(404) + 0.5*Fc*z(79)*z(117)*z(405) + 0.5*Fc*z(109)*z(115)*z(404) + 0.5*Fc*z(109)*z(119)*z(405) - z(84)*z(166) - z(72)*z(84)*z(172) - z(79)*z(115)*z(169) - z(79)*z(119)*z(170) - z(84)*z(113)*z(169) - z(84)*z(117)*z(170) - z(109)*z(169)*z(406) - z(109)*z(170)*z(407) - z(115)*z(169)*z(391) - z(119)*z(170)*z(391) - 0.5*Fc*z(73)*z(109)*z(397) - 0.5*Fc*z(74)*z(79)*z(398) - 0.5*Fc*z(75)*z(109)*z(398) - 0.5*Fc*z(76)*z(79)*z(400) - 0.5*Fc*z(77)*z(109)*z(400) - 0.5*Fc*z(79)*z(121)*z(402) - 0.5*Fc*z(109)*z(123)*z(402) - z(95)*(z(76)*z(84)+z(77)*z(79)+z(77)*z(391)+z(88)*z(401));
    z(428) = par.TrunkInertia*z(188)*z(236) + 2*z(46)*(z(48)+z(184))*z(201);
    z(429) = par.TrunkInertia*z(188)*z(233) + 2*z(46)*z(199)*(z(48)+z(184));
    z(430) = 2*z(188)*z(239) + 2*z(46)*z(200)*(z(48)+z(184));
    z(431) = z(98)*z(30)*z(46) + z(74)*z(80)*z(168) + z(75)*z(110)*z(168) + z(80)*z(167)*z(243) + z(110)*z(167)*z(253) + 0.5*Fc*z(80)*z(259) + 0.5*Fc*z(72)*z(80)*z(251) + 0.5*Fc*z(80)*z(113)*z(260) + 0.5*Fc*z(80)*z(117)*z(261) + 0.5*Fc*z(110)*z(115)*z(260) + 0.5*Fc*z(110)*z(119)*z(261) + z(99)*(z(49)*z(55)-z(50)*z(61)) - z(80)*z(169)*z(244) - z(80)*z(170)*z(245) - z(110)*z(169)*z(262) - z(110)*z(170)*z(263) - 0.5*Fc*z(73)*z(110)*z(251) - 0.5*Fc*z(74)*z(80)*z(252) - 0.5*Fc*z(75)*z(110)*z(252) - 0.5*Fc*z(76)*z(80)*z(254) - 0.5*Fc*z(77)*z(110)*z(254) - 0.5*Fc*z(80)*z(121)*z(255) - 0.5*Fc*z(110)*z(123)*z(255) - z(95)*(z(74)*z(80)+z(75)*z(89));
    z(432) = par.TrunkInertia*z(188)*z(236) + 2*z(46)*(z(48)+z(184))*z(201) + par.ForearmMass*(z(80)*z(275)+z(89)*z(277)) - par.TrunkMass*z(30)*z(272) - par.UpparmMass*(z(55)*z(273)-z(61)*z(274));
    z(433) = par.TrunkInertia*z(188)*z(233) + par.TrunkMass*z(30)*z(267) + 2*z(46)*z(199)*(z(48)+z(184)) + par.ForearmMass*(z(80)*z(270)+z(89)*z(276)) - par.UpparmMass*(z(55)*z(268)-z(61)*z(269));
    z(434) = z(98)*z(30)*z(46) + z(74)*z(80)*z(168) + z(75)*z(110)*z(168) + z(80)*z(167)*z(243) + z(110)*z(167)*z(253) + 0.5*Fc*z(80)*z(297) + 0.5*Fc*z(72)*z(80)*z(291) + 0.5*Fc*z(80)*z(113)*z(298) + 0.5*Fc*z(80)*z(117)*z(299) + 0.5*Fc*z(110)*z(115)*z(298) + 0.5*Fc*z(110)*z(119)*z(299) + z(99)*(z(49)*z(55)-z(50)*z(61)) - z(80)*z(169)*z(285) - z(80)*z(170)*z(245) - z(110)*z(169)*z(300) - z(110)*z(170)*z(263) - 0.5*Fc*z(73)*z(110)*z(291) - 0.5*Fc*z(74)*z(80)*z(292) - 0.5*Fc*z(75)*z(110)*z(292) - 0.5*Fc*z(76)*z(80)*z(293) - 0.5*Fc*z(77)*z(110)*z(293) - 0.5*Fc*z(80)*z(121)*z(294) - 0.5*Fc*z(110)*z(123)*z(294) - z(95)*(z(74)*z(80)+z(75)*z(89));
    z(435) = z(324)*z(201) + par.TrunkInertia*z(188)*z(306) + par.ForearmMass*(z(80)*z(314)+z(89)*z(316)) - par.TrunkMass*z(30)*z(311) - par.UpparmMass*(z(55)*z(312)-z(61)*z(313));
    z(436) = z(199)*z(324) + par.TrunkInertia*z(188)*z(303) + par.ForearmMass*(z(80)*z(310)+z(89)*z(315)) - par.TrunkMass*z(30)*z(307) - par.UpparmMass*(z(55)*z(308)-z(61)*z(309));
    z(437) = z(199)*z(324) + par.TrunkInertia*z(188)*z(303) + z(413)*z(24)*z(30) + par.ForearmMass*(z(80)*z(321)+z(89)*z(322)) - par.UpparmMass*(z(55)*z(319)+z(61)*z(320));
    z(438) = z(324)*(z(200)+par.TrunkInertia*z(188));
    z(439) = z(98)*z(30)*z(186) + z(80)*z(167)*z(329) + z(80)*z(168)*z(332) + z(110)*z(167)*z(341) + z(110)*z(168)*z(343) + 0.5*Fc*z(80)*z(345) + 0.5*Fc*z(72)*z(80)*z(339) + 0.5*Fc*z(80)*z(113)*z(346) + 0.5*Fc*z(80)*z(117)*z(347) + 0.5*Fc*z(110)*z(115)*z(346) + 0.5*Fc*z(110)*z(119)*z(347) + z(99)*(z(55)*z(330)-z(61)*z(331)) - z(80)*z(169)*z(333) - z(80)*z(170)*z(334) - z(110)*z(169)*z(348) - z(110)*z(170)*z(349) - 0.5*Fc*z(73)*z(110)*z(339) - 0.5*Fc*z(74)*z(80)*z(340) - 0.5*Fc*z(75)*z(110)*z(340) - 0.5*Fc*z(76)*z(80)*z(342) - 0.5*Fc*z(77)*z(110)*z(342) - 0.5*Fc*z(80)*z(121)*z(344) - 0.5*Fc*z(110)*z(123)*z(344) - z(95)*(z(80)*z(332)+z(89)*z(343));
    z(440) = -par.ForearmMass*(z(363)*z(94)-z(80)*z(354)-z(89)*z(356)-z(364)*z(91)) - par.UpparmMass*(z(55)*z(63)+z(39)*z(43)*z(66)-z(61)*z(353)-z(39)*z(44)*z(63));
    z(441) = 2*par.UpparmMass*z(39)*(z(43)*z(55)+z(44)*z(61)) - 2*par.ForearmMass*(z(80)*z(363)-z(89)*z(364));
    z(442) = z(209)*z(39)*z(44) - par.ForearmMass*(z(81)*z(363)-z(86)*z(364));
    z(443) = z(166)*z(363) + z(72)*z(172)*z(363) + z(73)*z(172)*z(364) + z(75)*z(167)*z(364) + z(77)*z(168)*z(364) + z(80)*z(123)*z(171) + z(80)*z(167)*z(368) + z(80)*z(168)*z(370) + z(110)*z(167)*z(376) + z(110)*z(168)*z(378) + z(110)*z(171)*z(380) + z(113)*z(169)*z(363) + z(117)*z(170)*z(363) + z(123)*z(171)*z(364) + 0.5*Fc*z(80)*z(381) + 0.5*Fc*z(72)*z(80)*z(374) + 0.5*Fc*z(80)*z(113)*z(382) + 0.5*Fc*z(80)*z(117)*z(383) + 0.5*Fc*z(110)*z(115)*z(382) + 0.5*Fc*z(110)*z(119)*z(383) + z(95)*(z(76)*z(363)-z(77)*z(364)-z(80)*z(370)-z(89)*z(378)) + z(99)*(z(52)*z(55)+z(39)*z(43)*z(51)-z(61)*z(369)-z(39)*z(44)*z(52)) - z(74)*z(167)*z(363) - z(76)*z(168)*z(363) - z(80)*z(169)*z(371) - z(80)*z(170)*z(372) - z(110)*z(169)*z(384) - z(110)*z(170)*z(385) - z(115)*z(169)*z(364) - z(119)*z(170)*z(364) - z(121)*z(171)*z(363) - 0.5*Fc*z(73)*z(110)*z(374) - 0.5*Fc*z(74)*z(80)*z(375) - 0.5*Fc*z(75)*z(110)*z(375) - 0.5*Fc*z(76)*z(80)*z(377) - 0.5*Fc*z(77)*z(110)*z(377) - 0.5*Fc*z(80)*z(121)*z(379) - 0.5*Fc*z(110)*z(123)*z(379);
    z(444) = par.ForearmMass*(z(80)*z(91)+z(85)*z(94)+z(89)*z(388)+z(393)*z(91));
    z(445) = par.ForearmMass*(z(80)*z(85)+z(89)*z(393));
    z(446) = par.ForearmMass*(z(81)*z(85)+z(86)*z(393)+par.UpparmLen*z(72)*z(80)-par.UpparmLen*z(73)*z(89));
    z(447) = z(72)*z(110)*z(172) + z(73)*z(80)*z(172) + z(73)*z(172)*z(393) + z(74)*z(85)*z(167) + z(75)*z(80)*z(167) + z(75)*z(167)*z(393) + z(76)*z(85)*z(168) + z(77)*z(80)*z(168) + z(77)*z(168)*z(393) + z(80)*z(123)*z(171) + z(85)*z(121)*z(171) + z(110)*z(167)*z(399) + z(110)*z(168)*z(401) + z(110)*z(171)*z(380) + z(123)*z(171)*z(393) + 0.5*Fc*z(80)*z(403) + 0.5*Fc*z(72)*z(80)*z(397) + 0.5*Fc*z(80)*z(113)*z(404) + 0.5*Fc*z(80)*z(117)*z(405) + 0.5*Fc*z(110)*z(115)*z(404) + 0.5*Fc*z(110)*z(119)*z(405) - z(85)*z(166) - z(72)*z(85)*z(172) - z(80)*z(115)*z(169) - z(80)*z(119)*z(170) - z(85)*z(113)*z(169) - z(85)*z(117)*z(170) - z(110)*z(169)*z(406) - z(110)*z(170)*z(407) - z(115)*z(169)*z(393) - z(119)*z(170)*z(393) - 0.5*Fc*z(73)*z(110)*z(397) - 0.5*Fc*z(74)*z(80)*z(398) - 0.5*Fc*z(75)*z(110)*z(398) - 0.5*Fc*z(76)*z(80)*z(400) - 0.5*Fc*z(77)*z(110)*z(400) - 0.5*Fc*z(80)*z(121)*z(402) - 0.5*Fc*z(110)*z(123)*z(402) - z(95)*(z(76)*z(85)+z(77)*z(80)+z(77)*z(393)+z(89)*z(401));
    z(448) = z(74)*z(81)*z(168) + z(75)*z(107)*z(168) + z(81)*z(167)*z(243) + z(107)*z(167)*z(253) + 0.5*Fc*z(81)*z(259) + 0.5*Fc*z(72)*z(81)*z(251) + 0.5*Fc*z(81)*z(113)*z(260) + 0.5*Fc*z(81)*z(117)*z(261) + 0.5*Fc*z(107)*z(115)*z(260) + 0.5*Fc*z(107)*z(119)*z(261) - z(178)*z(50) - z(81)*z(169)*z(244) - z(81)*z(170)*z(245) - z(107)*z(169)*z(262) - z(107)*z(170)*z(263) - 0.5*Fc*z(73)*z(107)*z(251) - 0.5*Fc*z(74)*z(81)*z(252) - 0.5*Fc*z(75)*z(107)*z(252) - 0.5*Fc*z(76)*z(81)*z(254) - 0.5*Fc*z(77)*z(107)*z(254) - 0.5*Fc*z(81)*z(121)*z(255) - 0.5*Fc*z(107)*z(123)*z(255) - z(95)*(z(74)*z(81)+z(75)*z(86));
    z(449) = z(209)*z(274) + par.ForearmMass*(z(81)*z(275)+z(86)*z(277));
    z(450) = z(74)*z(81)*z(168) + z(75)*z(107)*z(168) + z(81)*z(167)*z(243) + z(107)*z(167)*z(253) + 0.5*Fc*z(81)*z(297) + 0.5*Fc*z(72)*z(81)*z(291) + 0.5*Fc*z(81)*z(113)*z(298) + 0.5*Fc*z(81)*z(117)*z(299) + 0.5*Fc*z(107)*z(115)*z(298) + 0.5*Fc*z(107)*z(119)*z(299) - z(178)*z(50) - z(81)*z(169)*z(285) - z(81)*z(170)*z(245) - z(107)*z(169)*z(300) - z(107)*z(170)*z(263) - 0.5*Fc*z(73)*z(107)*z(291) - 0.5*Fc*z(74)*z(81)*z(292) - 0.5*Fc*z(75)*z(107)*z(292) - 0.5*Fc*z(76)*z(81)*z(293) - 0.5*Fc*z(77)*z(107)*z(293) - 0.5*Fc*z(81)*z(121)*z(294) - 0.5*Fc*z(107)*z(123)*z(294) - z(95)*(z(74)*z(81)+z(75)*z(86));
    z(451) = z(209)*z(313) + par.ForearmMass*(z(81)*z(314)+z(86)*z(316));
    z(452) = z(81)*z(167)*z(329) + z(81)*z(168)*z(332) + z(107)*z(167)*z(341) + z(107)*z(168)*z(343) + 0.5*Fc*z(81)*z(345) + 0.5*Fc*z(72)*z(81)*z(339) + 0.5*Fc*z(81)*z(113)*z(346) + 0.5*Fc*z(81)*z(117)*z(347) + 0.5*Fc*z(107)*z(115)*z(346) + 0.5*Fc*z(107)*z(119)*z(347) - z(178)*z(331) - z(81)*z(169)*z(333) - z(81)*z(170)*z(334) - z(107)*z(169)*z(348) - z(107)*z(170)*z(349) - 0.5*Fc*z(73)*z(107)*z(339) - 0.5*Fc*z(74)*z(81)*z(340) - 0.5*Fc*z(75)*z(107)*z(340) - 0.5*Fc*z(76)*z(81)*z(342) - 0.5*Fc*z(77)*z(107)*z(342) - 0.5*Fc*z(81)*z(121)*z(344) - 0.5*Fc*z(107)*z(123)*z(344) - z(95)*(z(81)*z(332)+z(86)*z(343));
    z(453) = z(209)*z(353) + par.ForearmMass*(z(81)*z(354)+z(86)*z(356));
    z(454) = z(81)*z(123)*z(171) + z(81)*z(167)*z(368) + z(81)*z(168)*z(370) + z(107)*z(167)*z(376) + z(107)*z(168)*z(378) + z(107)*z(171)*z(380) + 0.5*Fc*z(81)*z(381) + 0.5*Fc*z(72)*z(81)*z(374) + 0.5*Fc*z(81)*z(113)*z(382) + 0.5*Fc*z(81)*z(117)*z(383) + 0.5*Fc*z(107)*z(115)*z(382) + 0.5*Fc*z(107)*z(119)*z(383) - z(178)*z(369) - z(81)*z(169)*z(371) - z(81)*z(170)*z(372) - z(107)*z(169)*z(384) - z(107)*z(170)*z(385) - 0.5*Fc*z(73)*z(107)*z(374) - 0.5*Fc*z(74)*z(81)*z(375) - 0.5*Fc*z(75)*z(107)*z(375) - 0.5*Fc*z(76)*z(81)*z(377) - 0.5*Fc*z(77)*z(107)*z(377) - 0.5*Fc*z(81)*z(121)*z(379) - 0.5*Fc*z(107)*z(123)*z(379) - z(95)*(z(81)*z(370)+z(86)*z(378));
    z(455) = par.ForearmMass*(z(81)*z(91)+z(86)*z(388)+par.UpparmLen*z(72)*z(94)-par.UpparmLen*z(73)*z(91));
    z(456) = par.ForearmMass*par.UpparmLen;
    z(457) = z(456)*(z(72)*z(81)-z(73)*z(86));
    z(458) = z(72)*z(107)*z(172) + z(73)*z(81)*z(172) + z(75)*z(81)*z(167) + z(77)*z(81)*z(168) + z(81)*z(123)*z(171) + z(107)*z(167)*z(399) + z(107)*z(168)*z(401) + z(107)*z(171)*z(380) + 0.5*Fc*z(81)*z(403) + par.UpparmLen*z(72)*z(74)*z(167) + par.UpparmLen*z(72)*z(76)*z(168) + par.UpparmLen*z(72)*z(121)*z(171) + par.UpparmLen*z(73)*z(115)*z(169) + par.UpparmLen*z(73)*z(119)*z(170) + 0.5*Fc*z(72)*z(81)*z(397) + 0.5*Fc*z(81)*z(113)*z(404) + 0.5*Fc*z(81)*z(117)*z(405) + 0.5*Fc*z(107)*z(115)*z(404) + 0.5*Fc*z(107)*z(119)*z(405) - par.UpparmLen*z(72)*z(166) - z(81)*z(115)*z(169) - z(81)*z(119)*z(170) - z(107)*z(169)*z(406) - z(107)*z(170)*z(407) - par.UpparmLen*z(72)*z(113)*z(169) - par.UpparmLen*z(72)*z(117)*z(170) - par.UpparmLen*z(73)*z(75)*z(167) - par.UpparmLen*z(73)*z(77)*z(168) - par.UpparmLen*z(73)*z(123)*z(171) - par.UpparmLen*z(172)*z(72)^2 - par.UpparmLen*z(172)*z(73)^2 - 0.5*Fc*z(73)*z(107)*z(397) - 0.5*Fc*z(74)*z(81)*z(398) - 0.5*Fc*z(75)*z(107)*z(398) - 0.5*Fc*z(76)*z(81)*z(400) - 0.5*Fc*z(77)*z(107)*z(400) - 0.5*Fc*z(81)*z(121)*z(402) - 0.5*Fc*z(107)*z(123)*z(402) - z(95)*(z(77)*z(81)+z(86)*z(401)+par.UpparmLen*z(72)*z(76)-par.UpparmLen*z(73)*z(77));
    z(459) = 0.5*par.ForearmLen*(2*z(75)*z(168)+2*z(167)*z(253)+Fc*z(115)*z(260)+Fc*z(119)*z(261)-2*z(169)*z(262)-2*z(170)*z(263)-Fc*z(73)*z(251)-Fc*z(75)*z(252)-Fc*z(77)*z(254)-Fc*z(123)*z(255)) - z(180)*z(75);
    z(460) = 0.5*par.ForearmLen*(2*z(75)*z(168)+2*z(167)*z(253)+Fc*z(115)*z(298)+Fc*z(119)*z(299)-2*z(169)*z(300)-2*z(170)*z(263)-Fc*z(73)*z(291)-Fc*z(75)*z(292)-Fc*z(77)*z(293)-Fc*z(123)*z(294)) - z(180)*z(75);
    z(461) = 0.5*par.ForearmLen*(2*z(167)*z(341)+2*z(168)*z(343)+Fc*z(115)*z(346)+Fc*z(119)*z(347)-2*z(169)*z(348)-2*z(170)*z(349)-Fc*z(73)*z(339)-Fc*z(75)*z(340)-Fc*z(77)*z(342)-Fc*z(123)*z(344)) - z(180)*z(343);
    z(462) = 0.5*par.ForearmLen*(2*z(167)*z(376)+2*z(168)*z(378)+2*z(171)*z(380)+Fc*z(115)*z(382)+Fc*z(119)*z(383)-2*z(169)*z(384)-2*z(170)*z(385)-Fc*z(73)*z(374)-Fc*z(75)*z(375)-Fc*z(77)*z(377)-Fc*z(123)*z(379)) - z(180)*z(378);
    z(463) = 0.5*par.ForearmLen*(2*z(72)*z(172)+2*z(167)*z(399)+2*z(168)*z(401)+2*z(171)*z(380)+Fc*z(115)*z(404)+Fc*z(119)*z(405)-2*z(169)*z(406)-2*z(170)*z(407)-Fc*z(73)*z(397)-Fc*z(75)*z(398)-Fc*z(77)*z(400)-Fc*z(123)*z(402)) - z(180)*z(401);
    z(464) = (z(137)*z(244)+z(138)*z(245)+z(141)*z(246)+z(142)*z(248)+z(143)*z(183)+z(144)*z(45)+z(149)*z(2)-z(146)*z(243)-z(147)*z(74)-z(148)*z(249)-z(150)*z(1)-z(152)*z(10)-z(153)*z(9)-z(155)*z(241)-z(156)*z(49))/(z(136)+2*z(137)*z(113)+2*z(138)*z(117)+2*z(139)*z(72)+2*z(140)*z(7)+2*z(141)*z(128)+2*z(142)*z(132)+2*z(143)*z(45)+2*z(144)*z(47)-2*z(145)*z(121)-2*z(146)*z(74)-2*z(147)*z(76)-2*z(148)*z(124)-2*z(149)*z(1)-2*z(150)*z(2)-2*z(151)*z(23)-2*z(152)*z(9)-2*z(153)*z(11)-2*z(154)*z(43)-2*z(155)*z(49)-2*z(156)*z(51))^0.5;
    z(465) = (z(137)*z(285)+z(138)*z(245)+z(141)*z(286)+z(142)*z(288)+z(143)*z(183)+z(144)*z(45)-z(140)*z(8)-z(146)*z(243)-z(147)*z(74)-z(148)*z(289)-z(152)*z(10)-z(153)*z(9)-z(155)*z(241)-z(156)*z(49))/(z(136)+2*z(137)*z(113)+2*z(138)*z(117)+2*z(139)*z(72)+2*z(140)*z(7)+2*z(141)*z(128)+2*z(142)*z(132)+2*z(143)*z(45)+2*z(144)*z(47)-2*z(145)*z(121)-2*z(146)*z(74)-2*z(147)*z(76)-2*z(148)*z(124)-2*z(149)*z(1)-2*z(150)*z(2)-2*z(151)*z(23)-2*z(152)*z(9)-2*z(153)*z(11)-2*z(154)*z(43)-2*z(155)*z(49)-2*z(156)*z(51))^0.5;
    z(466) = (z(137)*z(333)+z(138)*z(334)+z(141)*z(335)+z(142)*z(337)+z(143)*z(46)+z(144)*z(48)+z(151)*z(24)-z(146)*z(329)-z(147)*z(332)-z(148)*z(125)-z(155)*z(327)-z(156)*z(330))/(z(136)+2*z(137)*z(113)+2*z(138)*z(117)+2*z(139)*z(72)+2*z(140)*z(7)+2*z(141)*z(128)+2*z(142)*z(132)+2*z(143)*z(45)+2*z(144)*z(47)-2*z(145)*z(121)-2*z(146)*z(74)-2*z(147)*z(76)-2*z(148)*z(124)-2*z(149)*z(1)-2*z(150)*z(2)-2*z(151)*z(23)-2*z(152)*z(9)-2*z(153)*z(11)-2*z(154)*z(43)-2*z(155)*z(49)-2*z(156)*z(51))^0.5;
    z(467) = (z(137)*z(371)+z(138)*z(372)+z(141)*z(129)+z(142)*z(133)+z(154)*z(44)-z(145)*z(123)-z(146)*z(368)-z(147)*z(370)-z(155)*z(50)-z(156)*z(52))/(z(136)+2*z(137)*z(113)+2*z(138)*z(117)+2*z(139)*z(72)+2*z(140)*z(7)+2*z(141)*z(128)+2*z(142)*z(132)+2*z(143)*z(45)+2*z(144)*z(47)-2*z(145)*z(121)-2*z(146)*z(74)-2*z(147)*z(76)-2*z(148)*z(124)-2*z(149)*z(1)-2*z(150)*z(2)-2*z(151)*z(23)-2*z(152)*z(9)-2*z(153)*z(11)-2*z(154)*z(43)-2*z(155)*z(49)-2*z(156)*z(51))^0.5;
    z(468) = par.ForearmLen*(par.ShankLen*z(115)+par.ThighLen*z(119)-par.TrunkLen*z(123)-par.UpparmLen*z(73)-z(111)*z(75)-z(112)*z(77))/(z(136)+2*z(137)*z(113)+2*z(138)*z(117)+2*z(139)*z(72)+2*z(140)*z(7)+2*z(141)*z(128)+2*z(142)*z(132)+2*z(143)*z(45)+2*z(144)*z(47)-2*z(145)*z(121)-2*z(146)*z(74)-2*z(147)*z(76)-2*z(148)*z(124)-2*z(149)*z(1)-2*z(150)*z(2)-2*z(151)*z(23)-2*z(152)*z(9)-2*z(153)*z(11)-2*z(154)*z(43)-2*z(155)*z(49)-2*z(156)*z(51))^0.5;
    z(469) = z(237) + z(238)*q1pp + z(238)*q2pp + z(240)*q3pp - z(265);
    z(470) = z(278) + z(280)*q1pp + z(282)*q2pp + z(283)*q3pp + z(284)*q4pp + z(211)*z(276)*q5pp - z(302);
    z(471) = z(317) + z(318)*q1pp + z(323)*q2pp + z(325)*q3pp + z(326)*q4pp + z(211)*z(315)*q5pp - z(350);
    z(472) = z(357) + z(358)*q1pp + z(362)*q2pp + z(365)*q3pp + z(366)*q4pp + z(211)*z(355)*q5pp - z(386);
    z(473) = z(389) + z(392)*q2pp + z(394)*q3pp + z(395)*q4pp + 2*z(390)*q1pp + z(211)*z(387)*q5pp - z(408);
    z(474) = z(237) + z(238)*q1pp + z(238)*q2pp + z(240)*q3pp - z(409);
    z(475) = z(410) + z(238)*q2pp + z(240)*q3pp + z(282)*q1pp - z(411);
    z(476) = z(412) + z(323)*q1pp + z(414)*q2pp + z(415)*q3pp + z(416)*q4pp + z(211)*z(322)*q5pp - z(417);
    z(477) = z(418) + z(362)*q1pp + z(419)*q2pp + z(420)*q3pp + z(421)*q4pp + z(211)*z(361)*q5pp - z(422);
    z(478) = z(423) + z(392)*q1pp + z(425)*q3pp + z(426)*q4pp + 2*z(424)*q2pp + z(211)*z(391)*q5pp - z(427);
    z(479) = z(428) + z(429)*q1pp + z(429)*q2pp + z(430)*q3pp - z(431);
    z(480) = z(432) + z(429)*q2pp + z(430)*q3pp + z(433)*q1pp - z(434);
    z(481) = z(435) + z(436)*q1pp + z(437)*q2pp + z(438)*q3pp - z(439);
    z(482) = z(440) + z(365)*q1pp + z(420)*q2pp + z(441)*q3pp + z(442)*q4pp + z(211)*z(364)*q5pp - z(443);
    z(483) = z(444) + z(394)*q1pp + z(425)*q2pp + z(446)*q4pp + 2*z(445)*q3pp + z(211)*z(393)*q5pp - z(447);
    z(484) = z(449) + z(284)*q1pp - z(450);
    z(485) = z(451) + z(326)*q1pp + z(416)*q2pp - z(452);
    z(486) = z(453) + z(366)*q1pp + z(421)*q2pp + z(442)*q3pp - z(454);
    z(487) = par.UpparmLen*z(211);
    z(488) = z(455) + z(395)*q1pp + z(426)*q2pp + z(446)*q3pp + 2*z(457)*q4pp - z(458) - z(487)*z(73)*q5pp;
    z(489) = z(211)*z(277) + z(211)*z(276)*q1pp - z(460);
    z(490) = z(211)*z(316) + z(211)*z(315)*q1pp + z(211)*z(322)*q2pp - z(461);
    z(491) = z(211)*z(356) + z(211)*z(355)*q1pp + z(211)*z(361)*q2pp + z(211)*z(364)*q3pp - z(462);
    z(492) = z(211)*z(388) + z(211)*z(387)*q1pp + z(211)*z(391)*q2pp + z(211)*z(393)*q3pp - z(463) - z(487)*z(73)*q4pp;
    z(493) = z(45)*z(46)*q1p + z(45)*z(46)*q2p + z(46)*z(232)*q1p + z(46)*z(232)*q2p + z(48)*z(183)*q1p + z(48)*z(183)*q2p + z(183)*z(184)*q1p + z(183)*z(184)*q2p + 2*z(46)*z(48)*q3p + 2*z(46)*z(184)*q3p + z(45)*z(194) + z(46)*z(197) + z(48)*z(192) + z(183)*z(195);
    z(494) = z(7)*(par.ShankLen*q1p+z(5));
    z(495) = -z(21) - z(494) - par.ThighLen*z(18);
    z(496) = z(8)*(par.ShankLen*q1p+z(5));
    z(497) = z(23)*z(495) + z(24)*z(496);
    z(498) = par.TrunkLen*q1p + par.TrunkLen*q2p + z(39)*q3p + z(497) + par.TrunkLen*(z(36)+z(37));
    z(499) = z(23)*z(496) - z(24)*z(495);
    z(500) = z(43)*z(498) + z(44)*z(499);
    z(501) = z(500) - z(70) - par.UpparmLen*z(65);
    z(502) = z(43)*z(499) - z(44)*z(498);
    z(503) = z(72)*z(501) + z(73)*z(502);
    z(504) = z(503) - z(92) - par.ForearmCM*z(93);
    z(505) = z(72)*z(502) - z(73)*z(501);
    z(506) = -z(17) - z(494) - par.ThighCM*z(18);
    z(507) = par.TrunkCM*q1p + par.TrunkCM*q2p + z(30)*q3p + z(497) + par.TrunkCM*(z(36)+z(37));
    z(508) = z(500) - z(64) - par.UpparmCM*z(65);
    z(509) = par.TrunkInertia*z(187)*z(493) + par.ForearmMass*(z(78)*z(504)+z(87)*z(505)) + par.ThighMass*(z(12)*z(506)+z(14)*z(496)) + par.TrunkMass*(z(25)*z(507)+z(32)*z(499)) + par.UpparmMass*(z(53)*z(508)+z(59)*z(502));
    z(510) = par.a*par.Cseat;
    z(511) = z(510)*z(103)/z(102)^0.5;
    z(512) = z(9)*z(12)*z(511) + z(10)*z(20)*z(511) - par.Cseat*z(103)*(z(9)*z(20)+z(11)*z(12))/z(102)^0.5;
    z(513) = z(23)*(z(21)+par.ThighLen*z(18));
    z(514) = par.TrunkLen*q1p + par.TrunkLen*q2p + z(39)*q3p + par.TrunkLen*(z(36)+z(37)) - z(513);
    z(515) = z(24)*(z(21)+par.ThighLen*z(18));
    z(516) = z(43)*z(514) + z(44)*z(515);
    z(517) = z(516) - z(70) - par.UpparmLen*z(65);
    z(518) = z(43)*z(515) - z(44)*z(514);
    z(519) = z(72)*z(517) + z(73)*z(518);
    z(520) = z(519) - z(92) - par.ForearmCM*z(93);
    z(521) = z(72)*z(518) - z(73)*z(517);
    z(522) = par.TrunkCM*q1p + par.TrunkCM*q2p + z(30)*q3p + par.TrunkCM*(z(36)+z(37)) - z(513);
    z(523) = z(516) - z(64) - par.UpparmCM*z(65);
    z(524) = par.TrunkInertia*z(187)*z(493) + par.ForearmMass*(z(78)*z(520)+z(87)*z(521)) + par.TrunkMass*(z(25)*z(522)+z(32)*z(515)) + par.UpparmMass*(z(53)*z(523)+z(59)*z(518)) - par.ThighMass*z(12)*(z(17)+par.ThighCM*z(18));
    z(525) = z(510)*z(104)/z(102)^0.5;
    z(526) = z(9)*z(12)*z(525) + z(10)*z(20)*z(525) - par.Cseat*z(104)*(z(9)*z(20)+z(11)*z(12))/z(102)^0.5;
    z(527) = z(45)*z(186)*q1p + z(45)*z(186)*q2p + z(46)*z(48)*q1p + z(46)*z(48)*q2p + z(46)*z(184)*q1p + z(46)*z(184)*q2p + z(183)*z(185)*q1p + z(183)*z(185)*q2p + 2*z(46)*z(185)*q3p + 2*z(48)*z(186)*q3p + 2*z(46)*z(195) + 2*z(48)*z(194);
    z(528) = (1+z(29))*(par.TrunkLen*q1p+par.TrunkLen*q2p+z(39)*q3p) + z(39)*(z(36)+z(37));
    z(529) = z(43)*z(528) - z(70) - par.UpparmLen*z(65);
    z(530) = z(72)*z(529) - z(44)*z(73)*z(528);
    z(531) = z(530) - z(92) - par.ForearmCM*z(93);
    z(532) = -z(73)*z(529) - z(44)*z(72)*z(528);
    z(533) = (1+z(29))*(par.TrunkCM*q1p+par.TrunkCM*q2p+z(30)*q3p) + z(30)*(z(36)+z(37));
    z(534) = z(43)*z(528) - z(64) - par.UpparmCM*z(65);
    z(535) = par.TrunkInertia*z(187)*z(527) + par.TrunkMass*z(25)*z(533) + par.ForearmMass*(z(78)*z(531)+z(87)*z(532)) + par.UpparmMass*(z(53)*z(534)-z(44)*z(59)*z(528));
    z(536) = z(72)*(z(70)+par.UpparmLen*z(65));
    z(537) = -z(92) - z(536) - par.ForearmCM*z(93);
    z(538) = z(73)*(z(70)+par.UpparmLen*z(65));
    z(539) = par.ForearmMass*(z(78)*z(537)+z(87)*z(538)) - par.UpparmMass*z(53)*(z(64)+par.UpparmCM*z(65));
    z(540) = par.ForearmMass*z(78)*(z(92)+par.ForearmCM*z(93));
    z(541) = z(205)*z(496) + par.TrunkInertia*z(187)*z(493) + par.ForearmMass*(z(79)*z(504)+z(88)*z(505)) + par.TrunkMass*(z(26)*z(507)+z(31)*z(499)) + par.UpparmMass*(z(54)*z(508)+z(60)*z(502));
    z(542) = par.ThighLen*(z(10)*z(511)-par.Cseat*z(9)*z(103)/z(102)^0.5);
    z(543) = par.TrunkInertia*z(187)*z(493) + par.ForearmMass*(z(79)*z(520)+z(88)*z(521)) + par.TrunkMass*(z(26)*z(522)+z(31)*z(515)) + par.UpparmMass*(z(54)*z(523)+z(60)*z(518));
    z(544) = par.ThighLen*(z(10)*z(525)-par.Cseat*z(9)*z(104)/z(102)^0.5);
    z(545) = par.TrunkInertia*z(187)*z(527) + par.TrunkMass*z(26)*z(533) + par.ForearmMass*(z(79)*z(531)+z(88)*z(532)) + par.UpparmMass*(z(54)*z(534)-z(44)*z(60)*z(528));
    z(546) = par.ForearmMass*(z(79)*z(537)+z(88)*z(538)) - par.UpparmMass*z(54)*(z(64)+par.UpparmCM*z(65));
    z(547) = par.ForearmMass*z(79)*(z(92)+par.ForearmCM*z(93));
    z(548) = par.TrunkInertia*z(188)*z(493) + par.ForearmMass*(z(80)*z(504)+z(89)*z(505)) - par.TrunkMass*z(30)*z(499) - par.UpparmMass*(z(55)*z(508)-z(61)*z(502));
    z(549) = par.TrunkInertia*z(188)*z(493) + par.ForearmMass*(z(80)*z(520)+z(89)*z(521)) - par.TrunkMass*z(30)*z(515) - par.UpparmMass*(z(55)*z(523)-z(61)*z(518));
    z(550) = par.TrunkInertia*z(188)*z(527) + par.ForearmMass*(z(80)*z(531)+z(89)*z(532)) - par.UpparmMass*(z(55)*z(534)+z(44)*z(61)*z(528));
    z(551) = par.ForearmMass*(z(80)*z(537)+z(89)*z(538)) + par.UpparmMass*z(55)*(z(64)+par.UpparmCM*z(65));
    z(552) = par.ForearmMass*z(80)*(z(92)+par.ForearmCM*z(93));
    z(553) = z(209)*z(502) + par.ForearmMass*(z(81)*z(504)+z(86)*z(505));
    z(554) = z(209)*z(518) + par.ForearmMass*(z(81)*z(520)+z(86)*z(521));
    z(555) = par.ForearmMass*(z(81)*z(531)+z(86)*z(532)) - z(209)*z(44)*z(528);
    z(556) = par.ForearmMass*(z(81)*z(537)+z(86)*z(538));
    z(557) = par.ForearmMass*z(81)*(z(92)+par.ForearmCM*z(93));
    z(558) = z(509) - z(512);
    z(559) = z(524) - z(526);
    z(560) = z(541) - z(542);
    z(561) = z(543) - z(544);
    z(562) = z(211)*z(505);
    z(563) = z(211)*z(521);
    z(564) = z(211)*z(532);
    z(565) = z(211)*z(538);
    z(566) = z(73)*z(108)*z(165) + z(74)*z(78)*z(160) + z(75)*z(108)*z(160) + z(76)*z(78)*z(161) + z(77)*z(108)*z(161) + z(78)*z(121)*z(164) + z(108)*z(123)*z(164) - z(78)*z(159) - z(72)*z(78)*z(165) - z(78)*z(113)*z(162) - z(78)*z(117)*z(163) - z(108)*z(115)*z(162) - z(108)*z(119)*z(163);
    z(567) = z(73)*z(109)*z(165) + z(74)*z(79)*z(160) + z(75)*z(109)*z(160) + z(76)*z(79)*z(161) + z(77)*z(109)*z(161) + z(79)*z(121)*z(164) + z(109)*z(123)*z(164) - z(79)*z(159) - z(72)*z(79)*z(165) - z(79)*z(113)*z(162) - z(79)*z(117)*z(163) - z(109)*z(115)*z(162) - z(109)*z(119)*z(163);
    z(568) = z(73)*z(110)*z(165) + z(74)*z(80)*z(160) + z(75)*z(110)*z(160) + z(76)*z(80)*z(161) + z(77)*z(110)*z(161) + z(80)*z(121)*z(164) + z(110)*z(123)*z(164) - z(80)*z(159) - z(72)*z(80)*z(165) - z(80)*z(113)*z(162) - z(80)*z(117)*z(163) - z(110)*z(115)*z(162) - z(110)*z(119)*z(163);
    z(569) = z(73)*z(107)*z(165) + z(74)*z(81)*z(160) + z(75)*z(107)*z(160) + z(76)*z(81)*z(161) + z(77)*z(107)*z(161) + z(81)*z(121)*z(164) + z(107)*z(123)*z(164) - z(81)*z(159) - z(72)*z(81)*z(165) - z(81)*z(113)*z(162) - z(81)*z(117)*z(163) - z(107)*z(115)*z(162) - z(107)*z(119)*z(163);
    z(570) = par.ForearmLen*(z(115)*z(162)+z(119)*z(163)-z(73)*z(165)-z(75)*z(160)-z(77)*z(161)-z(123)*z(164));
    
    
    
    
    %===========================================================================
    f(1) = z(213) + z(203)*q1pp + z(206)*q2pp + z(207)*q3pp + z(210)*q4pp + z(212)*q5pp - z(174);
    f(2) = z(219) + z(206)*q1pp + z(215)*q2pp + z(216)*q3pp + z(217)*q4pp + z(218)*q5pp - z(176);
    f(3) = z(225) + z(220)*q1pp + z(221)*q2pp + z(222)*q3pp + z(223)*q4pp + z(224)*q5pp - z(177);
    f(4) = z(229) + z(210)*q1pp + z(217)*q2pp + z(223)*q3pp + z(227)*q4pp + z(228)*q5pp - z(179);
    f(5) = z(231) + z(230)*q5pp + z(212)*q1pp + z(218)*q2pp + z(224)*q3pp + z(228)*q4pp - z(181);
    f(6) = L;
    df_dq(1,1) = z(469);
    df_dq(1,2) = z(470);
    df_dq(1,3) = z(471);
    df_dq(1,4) = z(472);
    df_dq(1,5) = z(473);
    df_dq(2,1) = z(474);
    df_dq(2,2) = z(475);
    df_dq(2,3) = z(476);
    df_dq(2,4) = z(477);
    df_dq(2,5) = z(478);
    df_dq(3,1) = z(479);
    df_dq(3,2) = z(480);
    df_dq(3,3) = z(481);
    df_dq(3,4) = z(482);
    df_dq(3,5) = z(483);
    df_dq(4,1) = -z(448);
    df_dq(4,2) = z(484);
    df_dq(4,3) = z(485);
    df_dq(4,4) = z(486);
    df_dq(4,5) = z(488);
    df_dq(5,1) = -z(459);
    df_dq(5,2) = z(489);
    df_dq(5,3) = z(490);
    df_dq(5,4) = z(491);
    df_dq(5,5) = z(492);
    df_dq(6,1) = z(464);
    df_dq(6,2) = z(465);
    df_dq(6,3) = z(466);
    df_dq(6,4) = z(467);
    df_dq(6,5) = z(468);
    df_dqd(1,1) = z(558);
    df_dqd(1,2) = z(559);
    df_dqd(1,3) = z(535);
    df_dqd(1,4) = z(539);
    df_dqd(1,5) = -z(540);
    df_dqd(2,1) = z(560);
    df_dqd(2,2) = z(561);
    df_dqd(2,3) = z(545);
    df_dqd(2,4) = z(546);
    df_dqd(2,5) = -z(547);
    df_dqd(3,1) = z(548);
    df_dqd(3,2) = z(549);
    df_dqd(3,3) = z(550);
    df_dqd(3,4) = z(551);
    df_dqd(3,5) = -z(552);
    df_dqd(4,1) = z(553);
    df_dqd(4,2) = z(554);
    df_dqd(4,3) = z(555);
    df_dqd(4,4) = z(556);
    df_dqd(4,5) = -z(557);
    df_dqd(5,1) = z(562);
    df_dqd(5,2) = z(563);
    df_dqd(5,3) = z(564);
    df_dqd(5,4) = z(565);
    df_dqd(5,5) = 0;
    df_dqd(6,1) = 0;
    df_dqd(6,2) = 0;
    df_dqd(6,3) = 0;
    df_dqd(6,4) = 0;
    df_dqd(6,5) = 0;
    df_dqdd(1,1) = z(203);
    df_dqdd(1,2) = z(206);
    df_dqdd(1,3) = z(207);
    df_dqdd(1,4) = z(210);
    df_dqdd(1,5) = z(212);
    df_dqdd(2,1) = z(206);
    df_dqdd(2,2) = z(215);
    df_dqdd(2,3) = z(216);
    df_dqdd(2,4) = z(217);
    df_dqdd(2,5) = z(218);
    df_dqdd(3,1) = z(220);
    df_dqdd(3,2) = z(221);
    df_dqdd(3,3) = z(222);
    df_dqdd(3,4) = z(223);
    df_dqdd(3,5) = z(224);
    df_dqdd(4,1) = z(210);
    df_dqdd(4,2) = z(217);
    df_dqdd(4,3) = z(223);
    df_dqdd(4,4) = z(227);
    df_dqdd(4,5) = z(228);
    df_dqdd(5,1) = z(212);
    df_dqdd(5,2) = z(218);
    df_dqdd(5,3) = z(224);
    df_dqdd(5,4) = z(228);
    df_dqdd(5,5) = z(230);
    df_dqdd(6,1) = 0;
    df_dqdd(6,2) = 0;
    df_dqdd(6,3) = 0;
    df_dqdd(6,4) = 0;
    df_dqdd(6,5) = 0;
    df_dFc(1) = -z(566);
    df_dFc(2) = -z(567);
    df_dFc(3) = -z(568);
    df_dFc(4) = -z(569);
    df_dFc(5) = z(570);
    df_dFc(6) = 0;
    stick(1,1) = par.Xankle;
    stick(1,2) = par.Yankle;
    stick(2,1) = par.Xankle + par.ShankLen*z(1);
    stick(2,2) = par.Yankle + par.ShankLen*z(2);
    stick(3,1) = par.Xankle + par.ShankLen*z(1) + par.ThighLen*z(9);
    stick(3,2) = par.Yankle + par.ShankLen*z(2) + par.ThighLen*z(11);
    stick(4,1) = par.Xankle + par.ShankLen*z(1) + par.ThighLen*z(9) - par.TrunkLen*z(45);
    stick(4,2) = par.Yankle + par.ShankLen*z(2) + par.ThighLen*z(11) - par.TrunkLen*z(47);
    stick(5,1) = par.Xankle + par.ShankLen*z(1) + par.ThighLen*z(9) + par.UpparmLen*z(49) - par.TrunkLen*z(45);
    stick(5,2) = par.Yankle + par.ShankLen*z(2) + par.ThighLen*z(11) + par.UpparmLen*z(51) - par.TrunkLen*z(47);
    stick(6,1) = par.Xankle + par.ForearmLen*z(74) + par.ShankLen*z(1) + par.ThighLen*z(9) + par.UpparmLen*z(49) - par.TrunkLen*z(45);
    stick(6,2) = par.Yankle + par.ForearmLen*z(76) + par.ShankLen*z(2) + par.ThighLen*z(11) + par.UpparmLen*z(51) - par.TrunkLen*z(47);
    stick(7,1) = par.Xsprocket;
    stick(7,2) = par.Ysprocket;
    
    df_dq = sparse(df_dq);
    df_dqd = sparse(df_dqd);
    df_dqdd = sparse(df_dqdd);
    df_dFc = sparse(df_dFc);

end 
